

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Sentiment Analysis with ChatGPT &#8212; Sentiment Analysis</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=ac02cc09edc035673794" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=ac02cc09edc035673794" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=ac02cc09edc035673794" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=ac02cc09edc035673794" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=ac02cc09edc035673794" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=ac02cc09edc035673794" />
  <script src="_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=ac02cc09edc035673794"></script>

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script type="application/vnd.jupyter.widget-state+json">{"state": {"f45120b6ec1b45cea97a20d9c5ef49c6": {"model_name": "LabelStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "LabelStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "StyleView", "background": null, "description_width": "", "font_family": null, "font_size": "1.2rem", "font_style": null, "font_variant": null, "font_weight": "bold", "text_color": null, "text_decoration": null}}, "df11b87ee84b497ca8ce1691b47d50a5": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "887f0e1181584ababb6849070d0c197a": {"model_name": "LabelModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "LabelModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "2.0.0", "_view_name": "LabelView", "description": "", "description_allow_html": false, "layout": "IPY_MODEL_df11b87ee84b497ca8ce1691b47d50a5", "placeholder": "\u200b", "style": "IPY_MODEL_f45120b6ec1b45cea97a20d9c5ef49c6", "tabbable": null, "tooltip": null, "value": "OpenAI API"}}, "e073f129b3884889a5cf537df47cc214": {"model_name": "LabelStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "LabelStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "StyleView", "background": null, "description_width": "", "font_family": null, "font_size": "1.2rem", "font_style": null, "font_variant": null, "font_weight": "bold", "text_color": null, "text_decoration": null}}, "ea2e504a0761448cbc56af24d134c8c5": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "1dfdb94b85c5459d846e1c3eed0efce7": {"model_name": "LabelModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "LabelModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "2.0.0", "_view_name": "LabelView", "description": "", "description_allow_html": false, "layout": "IPY_MODEL_ea2e504a0761448cbc56af24d134c8c5", "placeholder": "\u200b", "style": "IPY_MODEL_e073f129b3884889a5cf537df47cc214", "tabbable": null, "tooltip": null, "value": "Hacker News API"}}, "19945ca7018b4e80a5d5844268ac0f8c": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "94cb4600d9074c85b401007a5d5e0958": {"model_name": "TextStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "TextStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "StyleView", "background": null, "description_width": "", "font_size": null, "text_color": null}}, "8d5fe498ee364317bac3bf39ce5221e6": {"model_name": "TextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "TextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "2.0.0", "_view_name": "TextView", "continuous_update": true, "description": "API Key", "description_allow_html": false, "disabled": false, "layout": "IPY_MODEL_19945ca7018b4e80a5d5844268ac0f8c", "placeholder": "Enter your OpenAI API key", "style": "IPY_MODEL_94cb4600d9074c85b401007a5d5e0958", "tabbable": null, "tooltip": null, "value": "sk-4**********776S"}}, "0fe32b65b721417b96647f2cf25e2a2a": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "8fa5618c817742d3a6250ad0d0c8105a": {"model_name": "ButtonStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "ButtonStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "StyleView", "button_color": null, "font_family": null, "font_size": null, "font_style": null, "font_variant": null, "font_weight": null, "text_color": null, "text_decoration": null}}, "042754d33c1148968221c58adab94973": {"model_name": "ButtonModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "ButtonModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "2.0.0", "_view_name": "ButtonView", "button_style": "primary", "description": "Update Key", "disabled": false, "icon": "", "layout": "IPY_MODEL_0fe32b65b721417b96647f2cf25e2a2a", "style": "IPY_MODEL_8fa5618c817742d3a6250ad0d0c8105a", "tabbable": null, "tooltip": null}}, "421ac0e46a5a4d8297478e4a1c95f06c": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "62b9d445198c44389038dbfcbb2844c9": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "StyleView", "description_width": ""}}, "35dc1b56ca884902ac467481a74b9914": {"model_name": "DropdownModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "DropdownModel", "_options_labels": ["gpt-3.5-turbo", "gpt-4"], "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "2.0.0", "_view_name": "DropdownView", "description": "Model", "description_allow_html": false, "disabled": false, "index": 0, "layout": "IPY_MODEL_421ac0e46a5a4d8297478e4a1c95f06c", "style": "IPY_MODEL_62b9d445198c44389038dbfcbb2844c9", "tabbable": null, "tooltip": null}}, "73f62a78bec24c19b7aefa8b5e17b2d5": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "1e9c753c4b5a45e2b371e86a39c46272": {"model_name": "SliderStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "SliderStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "StyleView", "description_width": "", "handle_color": null}}, "c669a50d2729498f90be92c72059613e": {"model_name": "FloatSliderModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "FloatSliderModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "2.0.0", "_view_name": "FloatSliderView", "behavior": "drag-tap", "continuous_update": false, "description": "Temp", "description_allow_html": false, "disabled": false, "layout": "IPY_MODEL_73f62a78bec24c19b7aefa8b5e17b2d5", "max": 1.0, "min": 0.0, "orientation": "horizontal", "readout": true, "readout_format": ".2f", "step": 0.01, "style": "IPY_MODEL_1e9c753c4b5a45e2b371e86a39c46272", "tabbable": null, "tooltip": null, "value": 0.37}}, "ac7bdbe1879547ae9c47b5d99dc90a1c": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "c5dd27a48b4f474c88566853a54f92a3": {"model_name": "SliderStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "SliderStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "StyleView", "description_width": "", "handle_color": null}}, "efeb044cdb914ebfbb7a3f59535c4b54": {"model_name": "IntSliderModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "IntSliderModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "2.0.0", "_view_name": "IntSliderView", "behavior": "drag-tap", "continuous_update": false, "description": "Samples", "description_allow_html": false, "disabled": false, "layout": "IPY_MODEL_ac7bdbe1879547ae9c47b5d99dc90a1c", "max": 100, "min": 1, "orientation": "horizontal", "readout": true, "readout_format": "d", "step": 1, "style": "IPY_MODEL_c5dd27a48b4f474c88566853a54f92a3", "tabbable": null, "tooltip": null, "value": 12}}, "20f1d659fd13429c8083cdc547651c05": {"model_name": "LabelStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "LabelStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "StyleView", "background": null, "description_width": "", "font_family": null, "font_size": null, "font_style": null, "font_variant": null, "font_weight": "bold", "text_color": null, "text_decoration": null}}, "7cea0da4b7a34b25bf272ede6828e58e": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "8f85b08652f64a1db4c563f4e766dcd8": {"model_name": "LabelModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "LabelModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "2.0.0", "_view_name": "LabelView", "description": "", "description_allow_html": false, "layout": "IPY_MODEL_7cea0da4b7a34b25bf272ede6828e58e", "placeholder": "\u200b", "style": "IPY_MODEL_20f1d659fd13429c8083cdc547651c05", "tabbable": null, "tooltip": null, "value": "Warning:"}}, "9b6cbbe1ceeb458a8aa439c471f53c6e": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "c4c444f5cf2d4babaddf4e1920b82223": {"model_name": "LabelStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "LabelStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "StyleView", "background": null, "description_width": "", "font_family": null, "font_size": null, "font_style": null, "font_variant": null, "font_weight": null, "text_color": null, "text_decoration": null}}, "bfb107307769437383f5fc95b3eb5e17": {"model_name": "LabelModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "LabelModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "2.0.0", "_view_name": "LabelView", "description": "", "description_allow_html": false, "layout": "IPY_MODEL_9b6cbbe1ceeb458a8aa439c471f53c6e", "placeholder": "\u200b", "style": "IPY_MODEL_c4c444f5cf2d4babaddf4e1920b82223", "tabbable": null, "tooltip": null, "value": "Increasing sample size will result in higher costs."}}, "675753dd6fad48c5a6181759b71f7894": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "25149efd83734cd69503421f046c20d2": {"model_name": "HBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "HBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "2.0.0", "_view_name": "HBoxView", "box_style": "", "children": ["IPY_MODEL_8f85b08652f64a1db4c563f4e766dcd8", "IPY_MODEL_bfb107307769437383f5fc95b3eb5e17"], "layout": "IPY_MODEL_675753dd6fad48c5a6181759b71f7894", "tabbable": null, "tooltip": null}}, "b799895ab58142aabb2f4d53b23f91d2": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "80e40eb74b1743788b0ac3d9934b9d0f": {"model_name": "OutputModel", "model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/output", "_model_module_version": "1.0.0", "_model_name": "OutputModel", "_view_count": null, "_view_module": "@jupyter-widgets/output", "_view_module_version": "1.0.0", "_view_name": "OutputView", "layout": "IPY_MODEL_b799895ab58142aabb2f4d53b23f91d2", "msg_id": "", "outputs": [], "tabbable": null, "tooltip": null}}, "390f4ff215f943b6a192972d6b87c5ab": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "ce4e40d4f5ce49a39a8e63636fbdb5ae": {"model_name": "TextStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "TextStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "StyleView", "background": null, "description_width": "", "font_size": null, "text_color": null}}, "6de15dd94b474285ad56c1aa432dcf26": {"model_name": "TextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "TextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "2.0.0", "_view_name": "TextView", "continuous_update": true, "description": "", "description_allow_html": false, "disabled": false, "layout": "IPY_MODEL_390f4ff215f943b6a192972d6b87c5ab", "placeholder": "Type something", "style": "IPY_MODEL_ce4e40d4f5ce49a39a8e63636fbdb5ae", "tabbable": null, "tooltip": null, "value": ""}}, "df8ff53704334bd8aee06facd14d9367": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": "center", "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": "flex", "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": "100%"}}, "e29ae6e7815245bd8642278db4a49567": {"model_name": "BoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "BoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "2.0.0", "_view_name": "BoxView", "box_style": "", "children": ["IPY_MODEL_6de15dd94b474285ad56c1aa432dcf26", "IPY_MODEL_80e40eb74b1743788b0ac3d9934b9d0f"], "layout": "IPY_MODEL_df8ff53704334bd8aee06facd14d9367", "tabbable": null, "tooltip": null}}, "729e5e46ac3141e6a3449d219a96d344": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "262ad906e86b42f89fe433f5dec2df89": {"model_name": "OutputModel", "model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/output", "_model_module_version": "1.0.0", "_model_name": "OutputModel", "_view_count": null, "_view_module": "@jupyter-widgets/output", "_view_module_version": "1.0.0", "_view_name": "OutputView", "layout": "IPY_MODEL_729e5e46ac3141e6a3449d219a96d344", "msg_id": "", "outputs": [], "tabbable": null, "tooltip": null}}, "c47430c3e8ea423e89845afceaad4d1b": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "f12923aa7daa4ae9b6cc66282d18c085": {"model_name": "OutputModel", "model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/output", "_model_module_version": "1.0.0", "_model_name": "OutputModel", "_view_count": null, "_view_module": "@jupyter-widgets/output", "_view_module_version": "1.0.0", "_view_name": "OutputView", "layout": "IPY_MODEL_c47430c3e8ea423e89845afceaad4d1b", "msg_id": "", "outputs": [], "tabbable": null, "tooltip": null}}, "3dcd099cb034471380647b9031292673": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "cc7e208e45a14f8883ae87f11c03a394": {"model_name": "OutputModel", "model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/output", "_model_module_version": "1.0.0", "_model_name": "OutputModel", "_view_count": null, "_view_module": "@jupyter-widgets/output", "_view_module_version": "1.0.0", "_view_name": "OutputView", "layout": "IPY_MODEL_3dcd099cb034471380647b9031292673", "msg_id": "", "outputs": [], "tabbable": null, "tooltip": null}}, "9d31af9a808745f8b3c079b334ffd57d": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "6202ce0463f74eb2a94db1c444aa87a4": {"model_name": "ButtonStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "ButtonStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "StyleView", "button_color": null, "font_family": null, "font_size": null, "font_style": null, "font_variant": null, "font_weight": null, "text_color": null, "text_decoration": null}}, "eb8c92a9501c49e0b2ee2367c6c9f45b": {"model_name": "ButtonModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "ButtonModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "2.0.0", "_view_name": "ButtonView", "button_style": "primary", "description": "Analyze", "disabled": false, "icon": "", "layout": "IPY_MODEL_9d31af9a808745f8b3c079b334ffd57d", "style": "IPY_MODEL_6202ce0463f74eb2a94db1c444aa87a4", "tabbable": null, "tooltip": null}}, "9c7beb9c8d5b4b5d948043c5461deabf": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "d6dff84b5e0e44debf7d5af1ddec3c10": {"model_name": "TextStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "TextStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "StyleView", "background": null, "description_width": "", "font_size": null, "text_color": null}}, "6ec4eb9381da4a3ba7e7569e9902e169": {"model_name": "TextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "TextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "2.0.0", "_view_name": "TextView", "continuous_update": true, "description": "", "description_allow_html": false, "disabled": false, "layout": "IPY_MODEL_9c7beb9c8d5b4b5d948043c5461deabf", "placeholder": "Type something", "style": "IPY_MODEL_d6dff84b5e0e44debf7d5af1ddec3c10", "tabbable": null, "tooltip": null, "value": ""}}, "c5b16926110b49a3a024404a2eb8d3fe": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "061a4b2b8a1f416aab17d03ce9ef7da8": {"model_name": "HBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "HBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "2.0.0", "_view_name": "HBoxView", "box_style": "", "children": ["IPY_MODEL_6ec4eb9381da4a3ba7e7569e9902e169", "IPY_MODEL_eb8c92a9501c49e0b2ee2367c6c9f45b"], "layout": "IPY_MODEL_c5b16926110b49a3a024404a2eb8d3fe", "tabbable": null, "tooltip": null}}, "1f07c887b22f4772abbca52ed8b37698": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "c896a03889dc453994b2cd9f1a99d33b": {"model_name": "VBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "VBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "2.0.0", "_view_name": "VBoxView", "box_style": "", "children": ["IPY_MODEL_262ad906e86b42f89fe433f5dec2df89", "IPY_MODEL_f12923aa7daa4ae9b6cc66282d18c085", "IPY_MODEL_cc7e208e45a14f8883ae87f11c03a394"], "layout": "IPY_MODEL_1f07c887b22f4772abbca52ed8b37698", "tabbable": null, "tooltip": null}}, "840e4b869fd44d5082f2239d14a63923": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "c3b596b562df498d960e5340fc661c0b": {"model_name": "VBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "VBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "2.0.0", "_view_name": "VBoxView", "box_style": "", "children": ["IPY_MODEL_061a4b2b8a1f416aab17d03ce9ef7da8", "IPY_MODEL_c896a03889dc453994b2cd9f1a99d33b"], "layout": "IPY_MODEL_840e4b869fd44d5082f2239d14a63923", "tabbable": null, "tooltip": null}}, "b61d06b0ca5d4c8db780aa12e4e26a99": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "2c6d91ad959149f2995a09eb1b8fabff": {"model_name": "OutputModel", "model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/output", "_model_module_version": "1.0.0", "_model_name": "OutputModel", "_view_count": null, "_view_module": "@jupyter-widgets/output", "_view_module_version": "1.0.0", "_view_name": "OutputView", "layout": "IPY_MODEL_b61d06b0ca5d4c8db780aa12e4e26a99", "msg_id": "", "outputs": [], "tabbable": null, "tooltip": null}}, "f859f848c1a8441489a86e01f92df40d": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "79f8edee4adf4596b0b7563c23f3307f": {"model_name": "OutputModel", "model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/output", "_model_module_version": "1.0.0", "_model_name": "OutputModel", "_view_count": null, "_view_module": "@jupyter-widgets/output", "_view_module_version": "1.0.0", "_view_name": "OutputView", "layout": "IPY_MODEL_f859f848c1a8441489a86e01f92df40d", "msg_id": "", "outputs": [], "tabbable": null, "tooltip": null}}, "9d83649b3b8c4cf1a333255f2f90cb68": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "92908fe4b6c5453eb3ffca756f09427b": {"model_name": "OutputModel", "model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/output", "_model_module_version": "1.0.0", "_model_name": "OutputModel", "_view_count": null, "_view_module": "@jupyter-widgets/output", "_view_module_version": "1.0.0", "_view_name": "OutputView", "layout": "IPY_MODEL_9d83649b3b8c4cf1a333255f2f90cb68", "msg_id": "", "outputs": [], "tabbable": null, "tooltip": null}}, "fed5d02978b44a5f836c0ae27130e95b": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "74bd3a7c80fc45258fa02c45b30e4155": {"model_name": "TextStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "TextStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "StyleView", "background": null, "description_width": "", "font_size": null, "text_color": null}}, "fb3cc40d175d41a6bf9121b207ad0e08": {"model_name": "TextModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "TextModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "2.0.0", "_view_name": "TextView", "continuous_update": true, "description": "", "description_allow_html": false, "disabled": false, "layout": "IPY_MODEL_fed5d02978b44a5f836c0ae27130e95b", "placeholder": "Type something", "style": "IPY_MODEL_74bd3a7c80fc45258fa02c45b30e4155", "tabbable": null, "tooltip": null, "value": ""}}, "381cb9f00e5642d2b88b21a4a6ee6be8": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "8dadeb0075f94449850954e416e718a2": {"model_name": "VBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "VBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "2.0.0", "_view_name": "VBoxView", "box_style": "", "children": ["IPY_MODEL_fb3cc40d175d41a6bf9121b207ad0e08", "IPY_MODEL_92908fe4b6c5453eb3ffca756f09427b", "IPY_MODEL_2c6d91ad959149f2995a09eb1b8fabff", "IPY_MODEL_79f8edee4adf4596b0b7563c23f3307f"], "layout": "IPY_MODEL_381cb9f00e5642d2b88b21a4a6ee6be8", "tabbable": null, "tooltip": null}}, "448f53592f2c469bb9db38f821c6d500": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "4d2639781d61468fbd4ac9ddd0aaa44a": {"model_name": "HBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "HBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "2.0.0", "_view_name": "HBoxView", "box_style": "", "children": ["IPY_MODEL_8d5fe498ee364317bac3bf39ce5221e6", "IPY_MODEL_042754d33c1148968221c58adab94973"], "layout": "IPY_MODEL_448f53592f2c469bb9db38f821c6d500", "tabbable": null, "tooltip": null}}, "d2d96d7e420940c587170d656407965e": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "ff26ebb221d84d84951cf99be93adfed": {"model_name": "VBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "VBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "2.0.0", "_view_name": "VBoxView", "box_style": "", "children": ["IPY_MODEL_887f0e1181584ababb6849070d0c197a", "IPY_MODEL_4d2639781d61468fbd4ac9ddd0aaa44a", "IPY_MODEL_35dc1b56ca884902ac467481a74b9914", "IPY_MODEL_c669a50d2729498f90be92c72059613e"], "layout": "IPY_MODEL_d2d96d7e420940c587170d656407965e", "tabbable": null, "tooltip": null}}, "40ba201346ba4cee81fee4f469c4ac4a": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "4ff7062d55a3486495686e79c408b107": {"model_name": "VBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "VBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "2.0.0", "_view_name": "VBoxView", "box_style": "", "children": ["IPY_MODEL_1dfdb94b85c5459d846e1c3eed0efce7", "IPY_MODEL_efeb044cdb914ebfbb7a3f59535c4b54", "IPY_MODEL_25149efd83734cd69503421f046c20d2"], "layout": "IPY_MODEL_40ba201346ba4cee81fee4f469c4ac4a", "tabbable": null, "tooltip": null}}, "a4ea06bbffe74b07878b7ee582574f6f": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "6a6176f6d23f425eb722eb25c6e84fc3": {"model_name": "VBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "VBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "2.0.0", "_view_name": "VBoxView", "box_style": "", "children": ["IPY_MODEL_ff26ebb221d84d84951cf99be93adfed", "IPY_MODEL_4ff7062d55a3486495686e79c408b107"], "layout": "IPY_MODEL_a4ea06bbffe74b07878b7ee582574f6f", "tabbable": null, "tooltip": null}}}, "version_major": 2, "version_minor": 0}</script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script crossorigin="anonymous" data-jupyter-widgets-cdn="https://cdn.jsdelivr.net/npm/" src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@1.0.6/dist/embed-amd.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'SentimentAnalysisWorkshop';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="#">
  
  
  
  
  
    <p class="title logo__title">Sentiment Analysis</p>
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1 current active">
                <a class="reference internal" href="#">
                    Sentiment Analysis with ChatGPT
                </a>
            </li>
        </ul>
        
    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://mybinder.org/v2/gh/ericrallen/sentiment-analysis-notebook/main?urlpath=tree/SentimentAnalysisWorkshop.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch onBinder"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img src="_static/images/logo_binder.svg">
  </span>
<span class="btn__text-container">Binder</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="initThebeSBT()"
  class="btn btn-sm btn-launch-thebe dropdown-item"
  title="Launch Thebe"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-play"></i>
  </span>
<span class="btn__text-container">Live Code</span>
</button>
</li>
      
  </ul>
</div>



<a href="https://github.com/ericrallen/sentiment-analysis-notebook" target="_blank"
   class="btn btn-sm btn-source-repository-button"
   title="Source repository"
   data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>

</a>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/SentimentAnalysisWorkshop.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Sentiment Analysis with ChatGPT</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#what-is-sentiment-analysis">What is sentiment analysis?</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#examples">Examples</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#neutral">Neutral</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#positive">Positive</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#negative">Negative</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#initial-setup">Initial Setup</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#configuration">Configuration</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#simple-sentiment-analysis-with-nltk">Simple sentiment analysis with NLTK</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#how-sentiment-analysis-works">How Sentiment Analysis Works</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#learn-more">Learn more</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#real-world-example">Real world example</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chatgpt">ChatGPT</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#how-chatgpt-works">How ChatGPT works</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tokens">Tokens</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#prompt-engineering">Prompt engineering</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#basic-example">Basic example</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#going-further">Going further</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#comparison-of-tools">Comparison of tools</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#beyond-sentiment">Beyond sentiment</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#prompting-strategies">Prompting strategies</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Learn more</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#one-shot-prompting">One shot prompting</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#few-shot-prompting">Few shot prompting</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#comparing-approaches">Comparing approaches</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sentiment-analysis">Sentiment analysis</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#emotion-analysis">Emotion analysis</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">Prompting strategies</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusion">Conclusion</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <div class="cell tag_hide-cell tag_thebe-init docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%capture</span>

<span class="o">%</span><span class="n">pip</span> <span class="n">install</span> <span class="n">openai</span> <span class="n">nltk</span> <span class="n">ipywidgets</span> <span class="n">numpy</span> <span class="n">requests</span><span class="o">-</span><span class="n">cache</span> <span class="n">backoff</span> <span class="n">tiktoken</span> <span class="n">nrclex</span> <span class="n">pandas</span>
</pre></div>
</div>
</div>
</details>
</div>
<section class="tex2jax_ignore mathjax_ignore" id="sentiment-analysis-with-chatgpt">
<h1>Sentiment Analysis with ChatGPT<a class="headerlink" href="#sentiment-analysis-with-chatgpt" title="Permalink to this heading">#</a></h1>
<p>While sentiment analysis is sort of like the <a class="reference external" href="https://en.wikipedia.org/wiki/%22Hello,_World!%22_program#Variations">“Hello, world!”</a> of Natural Language Processing (NLP), luckily for us it’s a bit more fun than just echoing out a string.</p>
<p>This notebook will introduce you to sentiment analysis using traditional NLP tools and then explore analyzing sentiment with ChatGPT.</p>
<p><strong>Note</strong>: For a better learning experience, this notebook contains some code cells that are only used to render widgets for you to interact with and some others that only generate data structures or variables that later cells will reference.</p>
<section id="what-is-sentiment-analysis">
<h2>What is sentiment analysis?<a class="headerlink" href="#what-is-sentiment-analysis" title="Permalink to this heading">#</a></h2>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Sentiment_analysis">Sentiment Analysis</a> is a way of analyzing some text to determine if it’s positive, negative, or neutral.</p>
<p>This is the kind of thing that’s pretty easy for a human who understands the language the text is written in, but it can be hard for a computer to really understand the underlying meaning behind language.</p>
<section id="examples">
<h3>Examples<a class="headerlink" href="#examples" title="Permalink to this heading">#</a></h3>
<section id="neutral">
<h4>Neutral<a class="headerlink" href="#neutral" title="Permalink to this heading">#</a></h4>
<blockquote>
<div><p>I saw that movie.</p>
</div></blockquote>
</section>
<section id="positive">
<h4>Positive<a class="headerlink" href="#positive" title="Permalink to this heading">#</a></h4>
<blockquote>
<div><p>I love that movie</p>
</div></blockquote>
</section>
<section id="negative">
<h4>Negative<a class="headerlink" href="#negative" title="Permalink to this heading">#</a></h4>
<blockquote>
<div><p>I hate that movie.</p>
</div></blockquote>
</section>
</section>
</section>
<section id="initial-setup">
<h2>Initial Setup<a class="headerlink" href="#initial-setup" title="Permalink to this heading">#</a></h2>
<p>First, we’ll import the relevant tools we’ll be using in the notebook and configure some global variables.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">nltk</span></code>: Python’s <a class="reference external" href="https://www.nltk.org/">Natural Language Toolkit</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">openai</span></code>: Python library for interacting with the <a class="reference external" href="https://platform.openai.com/docs/api-reference/introduction">OpenAI API</a></p></li>
</ul>
<p>You’ll be able to configure these global variables using an embedded widget form below.</p>
<div class="cell tag_thebe-init docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>

<span class="kn">import</span> <span class="nn">nltk</span>
<span class="kn">import</span> <span class="nn">openai</span>

<span class="c1"># download nltk data</span>
<span class="n">nltk</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s1">&#39;vader_lexicon&#39;</span><span class="p">)</span>
<span class="n">nltk</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s1">&#39;punkt&#39;</span><span class="p">)</span>

<span class="c1"># globals</span>
<span class="n">OPENAI_API_KEY</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;OPENAI_API_KEY&quot;</span><span class="p">)</span>
<span class="n">TEMPERATURE</span> <span class="o">=</span> <span class="mf">0.37</span>
<span class="n">STORY_SAMPLE_SIZE</span> <span class="o">=</span> <span class="mi">12</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[nltk_data] Downloading package vader_lexicon to
[nltk_data]     /home/runner/nltk_data...
[nltk_data]   Package vader_lexicon is already up-to-date!
[nltk_data] Downloading package punkt to /home/runner/nltk_data...
[nltk_data]   Package punkt is already up-to-date!
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-cell tag_thebe-init docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># this cell focuses on some implemetation details for this notebook</span>
<span class="c1"># that aren&#39;t actually important to the workshop</span>
<span class="kn">import</span> <span class="nn">ipywidgets</span> <span class="k">as</span> <span class="nn">pywidgets</span>
<span class="kn">import</span> <span class="nn">requests</span> <span class="k">as</span> <span class="nn">request</span>
<span class="kn">import</span> <span class="nn">requests_cache</span>
<span class="kn">import</span> <span class="nn">backoff</span>

<span class="c1"># configuration widgets</span>
<span class="kn">from</span> <span class="nn">widgets.config</span> <span class="kn">import</span> <span class="n">modelDropdown</span><span class="p">,</span> <span class="n">apiKeyInput</span><span class="p">,</span> <span class="n">apiKeyUpdateButton</span><span class="p">,</span> <span class="n">temperatureSlider</span><span class="p">,</span> <span class="n">sampleSizeSlider</span><span class="p">,</span> <span class="n">sampleSizeWarningLabel</span><span class="p">,</span> <span class="n">openAiHeader</span><span class="p">,</span> <span class="n">hackerNewsHeader</span>

<span class="c1"># project-specific widgets</span>
<span class="kn">from</span> <span class="nn">widgets.simple</span> <span class="kn">import</span> <span class="n">simpleAnalysisWidget</span>
<span class="kn">from</span> <span class="nn">widgets.advanced</span> <span class="kn">import</span> <span class="n">advancedAnalysisWidget</span><span class="p">,</span> <span class="n">configureOpenAi</span>
<span class="kn">from</span> <span class="nn">widgets.tokens</span> <span class="kn">import</span> <span class="n">tokenAnalysisWidget</span><span class="p">,</span> <span class="n">configureModel</span>

<span class="c1"># project-specific utilities</span>
<span class="kn">from</span> <span class="nn">utils.obfuscate</span> <span class="kn">import</span> <span class="n">obfuscateKey</span>

<span class="c1"># we&#39;ll use this session to cache our hacker news api requests</span>
<span class="n">REQUEST_CACHE_EXPIRATION_SECONDS</span> <span class="o">=</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">15</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">requests_cache</span><span class="o">.</span><span class="n">CachedSession</span><span class="p">(</span><span class="s1">&#39;hackernews_cache&#39;</span><span class="p">,</span> <span class="n">expire_after</span><span class="o">=</span><span class="n">REQUEST_CACHE_EXPIRATION_SECONDS</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
</div>
</section>
<section id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this heading">#</a></h2>
<p>You can make changes to the configuration form below at any time and rerun cells that make requests to the OpenAI API or Hacker News API to see how the results change.</p>
<p>You can configure the following values:</p>
<ul class="simple">
<li><p><strong>Open AI API Key</strong>: Your <a class="reference external" href="https://platform.openai.com/account/api-keys">OpenAI API key</a> is read from the <code class="docutils literal notranslate"><span class="pre">$OPENAI_API_KEY</span></code> environment variable if it’s set, but you can override it in this notebook; when you click the <strong>Update Key</strong> button the key you entered will be obfuscated and stored in the <code class="docutils literal notranslate"><span class="pre">OPENAI_API_KEY</span></code> global variable</p></li>
<li><p><strong>Model</strong>: The <a class="reference external" href="https://platform.openai.com/docs/models">OpenAI model</a> that the demo should use; you can choose between the <code class="docutils literal notranslate"><span class="pre">gtp-3.5-turbo</span></code> and <code class="docutils literal notranslate"><span class="pre">gpt-4</span></code> models for this demo</p></li>
<li><p><strong>Temperature</strong>: A model’s <a class="reference external" href="https://platform.openai.com/docs/guides/gpt/how-should-i-set-the-temperature-parameter">temperature</a> is a measure of how “creative” it’s response will be; you can set this to <code class="docutils literal notranslate"><span class="pre">0</span></code> for something pretty close to deterministic responses to simple queries</p></li>
<li><p><strong>Sample Size</strong>: We’ll be gathering the top stories from the <a class="reference external" href="https://github.com/HackerNews/API">Hacker News API</a> and then analyzing the sentiment of a sample of those stories’ titles; this controls how large that sample is</p></li>
</ul>
<div class="cell tag_hide-input tag_thebe-init docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># this code cell is just used to display a widget</span>
<span class="c1"># for us to configure some settings that other cells</span>
<span class="c1"># in this notebook rely on</span>
<span class="n">apiKeyInput</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">obfuscateKey</span><span class="p">(</span><span class="n">OPENAI_API_KEY</span><span class="p">)</span>
<span class="n">sampleSizeSlider</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">STORY_SAMPLE_SIZE</span>
<span class="n">temperatureSlider</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">TEMPERATURE</span>

<span class="k">def</span> <span class="nf">updateApiKey</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
  <span class="k">global</span> <span class="n">OPENAI_API_KEY</span>
  <span class="n">OPENAI_API_KEY</span> <span class="o">=</span> <span class="n">apiKeyInput</span><span class="o">.</span><span class="n">value</span>
  <span class="n">apiKeyInput</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">obfuscateKey</span><span class="p">(</span><span class="n">OPENAI_API_KEY</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">updateSampleSize</span><span class="p">(</span><span class="n">change</span><span class="p">):</span>
  <span class="k">global</span> <span class="n">STORY_SAMPLE_SIZE</span>
  <span class="n">STORY_SAMPLE_SIZE</span> <span class="o">=</span> <span class="n">change</span><span class="p">[</span><span class="s1">&#39;new&#39;</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">updateTemperature</span><span class="p">(</span><span class="n">change</span><span class="p">):</span>
  <span class="k">global</span> <span class="n">TEMPERATURE</span>
  <span class="n">TEMPERATURE</span> <span class="o">=</span> <span class="n">change</span><span class="p">[</span><span class="s1">&#39;new&#39;</span><span class="p">]</span>

<span class="n">temperatureSlider</span><span class="o">.</span><span class="n">observe</span><span class="p">(</span><span class="n">updateTemperature</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="s1">&#39;value&#39;</span><span class="p">)</span>
<span class="n">sampleSizeSlider</span><span class="o">.</span><span class="n">observe</span><span class="p">(</span><span class="n">updateSampleSize</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="s1">&#39;value&#39;</span><span class="p">)</span>
<span class="n">apiKeyUpdateButton</span><span class="o">.</span><span class="n">on_click</span><span class="p">(</span><span class="n">updateApiKey</span><span class="p">)</span>

<span class="n">apiKeyConfigWidget</span> <span class="o">=</span> <span class="n">pywidgets</span><span class="o">.</span><span class="n">HBox</span><span class="p">([</span><span class="n">apiKeyInput</span><span class="p">,</span> <span class="n">apiKeyUpdateButton</span><span class="p">])</span>
<span class="n">openAiConfigWidget</span> <span class="o">=</span> <span class="n">pywidgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">([</span><span class="n">openAiHeader</span><span class="p">,</span> <span class="n">apiKeyConfigWidget</span><span class="p">,</span> <span class="n">modelDropdown</span><span class="p">,</span> <span class="n">temperatureSlider</span><span class="p">])</span>
<span class="n">hackerNewsConfigWidget</span> <span class="o">=</span> <span class="n">pywidgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">([</span><span class="n">hackerNewsHeader</span><span class="p">,</span> <span class="n">sampleSizeSlider</span><span class="p">,</span> <span class="n">sampleSizeWarningLabel</span><span class="p">])</span>
<span class="n">configWidget</span> <span class="o">=</span> <span class="n">pywidgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">([</span><span class="n">openAiConfigWidget</span><span class="p">,</span> <span class="n">hackerNewsConfigWidget</span><span class="p">])</span>

<span class="n">display</span><span class="p">(</span><span class="n">configWidget</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"version_major": 2, "version_minor": 0, "model_id": "6a6176f6d23f425eb722eb25c6e84fc3"}</script></div>
</div>
</section>
<section id="simple-sentiment-analysis-with-nltk">
<h2>Simple sentiment analysis with NLTK<a class="headerlink" href="#simple-sentiment-analysis-with-nltk" title="Permalink to this heading">#</a></h2>
<p>Let’s take a look at a simple example of sentiment analysis with <code class="docutils literal notranslate"><span class="pre">nltk</span></code> using the Valence Aware Dictionary and sEntiment Reasoner (<a class="reference external" href="https://vadersentiment.readthedocs.io/en/latest/pages/introduction.html">VADER</a>) module.</p>
<p>VADER’s <code class="docutils literal notranslate"><span class="pre">SentimentIntensityAnalyzer</span></code> returns an object with positive, negative, and neutral scores for the given text as well as a combined <code class="docutils literal notranslate"><span class="pre">compound</span></code> score computed from the other three.</p>
<p>For this basic example, we’re going to rely on the <code class="docutils literal notranslate"><span class="pre">compound</span></code> score and create a naive rating scale that converts that score into a string representation of the sentiment.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">nltk.sentiment.vader</span> <span class="kn">import</span> <span class="n">SentimentIntensityAnalyzer</span>

<span class="n">analyzer</span> <span class="o">=</span> <span class="n">SentimentIntensityAnalyzer</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">analyzeSentiment</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
  <span class="k">if</span> <span class="ow">not</span> <span class="n">text</span><span class="p">:</span>
    <span class="k">return</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>

  <span class="n">sentiment</span> <span class="o">=</span> <span class="n">analyzer</span><span class="o">.</span><span class="n">polarity_scores</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>

  <span class="k">if</span> <span class="n">sentiment</span><span class="p">[</span><span class="s1">&#39;compound&#39;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mf">0.75</span><span class="p">:</span>
    <span class="k">return</span><span class="p">(</span><span class="s1">&#39;very positive&#39;</span><span class="p">)</span>
  <span class="k">elif</span> <span class="n">sentiment</span><span class="p">[</span><span class="s1">&#39;compound&#39;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mf">0.4</span><span class="p">:</span>
    <span class="k">return</span><span class="p">(</span><span class="s1">&#39;positive&#39;</span><span class="p">)</span>
  <span class="k">elif</span> <span class="n">sentiment</span><span class="p">[</span><span class="s1">&#39;compound&#39;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mf">0.1</span><span class="p">:</span>
    <span class="k">return</span><span class="p">(</span><span class="s1">&#39;leaning positive&#39;</span><span class="p">)</span>
  <span class="k">elif</span> <span class="n">sentiment</span><span class="p">[</span><span class="s1">&#39;compound&#39;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="o">-</span><span class="mf">0.1</span> <span class="ow">and</span> <span class="n">sentiment</span><span class="p">[</span><span class="s1">&#39;compound&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mf">0.4</span><span class="p">:</span>
    <span class="k">return</span><span class="p">(</span><span class="s1">&#39;leaning negative&#39;</span><span class="p">)</span>
  <span class="k">elif</span> <span class="n">sentiment</span><span class="p">[</span><span class="s1">&#39;compound&#39;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="o">-</span><span class="mf">0.4</span> <span class="ow">and</span> <span class="n">sentiment</span><span class="p">[</span><span class="s1">&#39;compound&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mf">0.75</span><span class="p">:</span>
    <span class="k">return</span><span class="p">(</span><span class="s1">&#39;negative&#39;</span><span class="p">)</span>
  <span class="k">elif</span> <span class="n">sentiment</span><span class="p">[</span><span class="s1">&#39;compound&#39;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="o">-</span><span class="mf">0.75</span><span class="p">:</span>
    <span class="k">return</span><span class="p">(</span><span class="s1">&#39;very negative&#39;</span><span class="p">)</span>
  <span class="k">else</span><span class="p">:</span>
    <span class="k">return</span><span class="p">(</span><span class="s1">&#39;neutral&#39;</span><span class="p">)</span>
  
<span class="c1"># some simple test statements for our analyzer</span>
<span class="n">statements</span> <span class="o">=</span> <span class="p">[</span>
  <span class="s1">&#39;I love that movie.&#39;</span><span class="p">,</span>
  <span class="s1">&#39;I hate that movie.&#39;</span><span class="p">,</span>
  <span class="s1">&#39;I like that movie.&#39;</span><span class="p">,</span>
  <span class="s1">&#39;I dislike that movie.&#39;</span><span class="p">,</span>
  <span class="s1">&#39;I saw that movie.&#39;</span><span class="p">,</span>
<span class="p">]</span>

<span class="k">for</span> <span class="n">statement</span> <span class="ow">in</span> <span class="n">statements</span><span class="p">:</span>
  <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">statement</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">analyzeSentiment</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>I love that movie. (positive)
I hate that movie. (negative)
I like that movie. (leaning positive)
I dislike that movie. (leaning negative)
I saw that movie. (neutral)
</pre></div>
</div>
</div>
</div>
<p>We’ve wired the input below up to the same analyzer function from above. Type in some text and see how the analyzer responds.</p>
<div class="cell tag_hide-input tag_thebe-init docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># this code cell is just used to display a widget</span>
<span class="c1"># that uses the analyzeSentiment function we created</span>
<span class="n">display</span><span class="p">(</span><span class="n">simpleAnalysisWidget</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"version_major": 2, "version_minor": 0, "model_id": "e29ae6e7815245bd8642278db4a49567"}</script></div>
</div>
</section>
<section id="how-sentiment-analysis-works">
<h2>How Sentiment Analysis Works<a class="headerlink" href="#how-sentiment-analysis-works" title="Permalink to this heading">#</a></h2>
<p>Sentiment analysis, like most text analysis involves a multistep process:</p>
<ol class="arabic simple">
<li><p><strong>Stemming / Lemmatization</strong>: reduces the words in the text to their root forms to simplify comparison between different forms of the same words</p>
<ol class="arabic simple">
<li><p><strong>Stemming</strong>: removes suffixes as an attempt to reduce words to their root forms</p></li>
<li><p><strong>Lemmatization</strong>: uses a morphological analysis of words to reduce them to their root forms</p></li>
</ol>
</li>
<li><p><strong>Tokenization</strong>: breaks the text into individual units of meaning called tokens</p></li>
<li><p><strong>Vectorization</strong>: converts the tokens into a id that can be used for comparison</p></li>
<li><p><strong>Comparison</strong>: compares the tokens to a known set of tokens to determine the sentiment</p></li>
</ol>
<p>In this case we’re taking advantage of an existing model that has been trained to analyze sentiment in text. If we wanted to build our own from scratch, it would be a more complicated process and require training data to feed into the model.</p>
<p>With the advent of Generative Pre-Trained Transformer (GPT) models like those that power ChatGPT, and other transformer models that have exploded in popularity since, we can leverage the powerful inference and predictive capabilities of these models to perform sentiment analysis without having to train our own model, and we can even leverage some prompting techniques to quickly teach the model how to perform more unique analyses.</p>
<section id="learn-more">
<h3>Learn more<a class="headerlink" href="#learn-more" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://thepythoncode.com/article/tokenization-stemming-and-lemmatization-in-python">Tokenization, Stemming, and Lemmatization in Python</a></p></li>
<li><p><a class="reference external" href="https://stackabuse.com/python-for-nlp-tokenization-stemming-and-lemmatization-with-spacy-library/">Python for NLP: Tokenization, Stemming, and Lemmatization with SpaCy Library</a></p></li>
<li><p><a class="reference external" href="https://www.machinelearningplus.com/nlp/what-is-tokenization-in-natural-language-processing/">What is Tokenization in Natural Language Processing (NLP)?</a></p></li>
<li><p><a class="reference external" href="https://towardsdatascience.com/understanding-nlp-word-embeddings-text-vectorization-1a23744f7223">Understanding NLP Word Embeddings — Text Vectorization</a></p></li>
</ul>
</section>
</section>
<section id="real-world-example">
<h2>Real world example<a class="headerlink" href="#real-world-example" title="Permalink to this heading">#</a></h2>
<p>So, let’s see how this works with text generated by other humans without knowing that someone would be trying to analyze the sentiment of their text.</p>
<p>For this example, we’ll pull in a random sample of the <a class="reference external" href="https://github.com/HackerNews/API#new-top-and-best-stories">top stories</a> on <a class="reference external" href="https://news.ycombinator.com/">Hacker News</a> and analyze the sentiment of each submission’s title.</p>
<p>You can run the cell below a few times to generate different samples of the top stories until you find a collection you prefer and then rerun the cells after it to use that sample for the rest of the notebook.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="k">def</span> <span class="nf">getSampleStories</span><span class="p">(</span><span class="n">sampleSize</span> <span class="o">=</span> <span class="n">STORY_SAMPLE_SIZE</span><span class="p">):</span>
  <span class="n">topStoryIdsRequest</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://hacker-news.firebaseio.com/v0/topstories.json&#39;</span><span class="p">)</span>

  <span class="k">if</span> <span class="n">topStoryIdsRequest</span><span class="o">.</span><span class="n">status_code</span> <span class="o">!=</span> <span class="mi">200</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;There was a problem getting the top stories from Hacker News&#39;</span><span class="p">)</span>
    <span class="n">exit</span><span class="p">()</span>

  <span class="n">topStoryIds</span> <span class="o">=</span> <span class="n">topStoryIdsRequest</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

  <span class="n">storyIds</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">topStoryIds</span><span class="p">)[</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">topStoryIds</span><span class="p">),</span> <span class="n">sampleSize</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="kc">False</span><span class="p">)]</span>

  <span class="k">return</span> <span class="n">storyIds</span>


<span class="k">def</span> <span class="nf">getStoryDetails</span><span class="p">(</span><span class="n">storyId</span><span class="p">):</span>
  <span class="c1"># we&#39;ll use the same request cache so that we don&#39;t have to request a story&#39;s details more than once</span>
  <span class="n">storyRequest</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;https://hacker-news.firebaseio.com/v0/item/</span><span class="si">{</span><span class="n">storyId</span><span class="si">}</span><span class="s1">.json&#39;</span><span class="p">)</span>

  <span class="k">if</span> <span class="n">storyRequest</span><span class="o">.</span><span class="n">status_code</span> <span class="o">!=</span> <span class="mi">200</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;There was a problem getting story </span><span class="si">{</span><span class="n">storyId</span><span class="si">}</span><span class="s1"> from Hacker News&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">None</span>
  <span class="k">else</span><span class="p">:</span>
    <span class="n">story</span> <span class="o">=</span> <span class="n">storyRequest</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

  <span class="k">return</span> <span class="n">story</span>


<span class="k">def</span> <span class="nf">getStories</span><span class="p">(</span><span class="n">storyIds</span><span class="p">):</span>
  <span class="n">stories</span> <span class="o">=</span> <span class="p">{}</span>

  <span class="k">for</span> <span class="n">storyId</span> <span class="ow">in</span> <span class="n">storyIds</span><span class="p">:</span>
    <span class="n">story</span> <span class="o">=</span> <span class="n">getStoryDetails</span><span class="p">(</span><span class="n">storyId</span><span class="p">)</span>

    <span class="k">if</span> <span class="s1">&#39;title&#39;</span> <span class="ow">in</span> <span class="n">story</span><span class="p">:</span>
      <span class="n">stories</span><span class="p">[</span><span class="n">storyId</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="n">story</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">],</span>
        <span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="n">story</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span>
        <span class="s2">&quot;sentiment&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="s2">&quot;vader&quot;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
          <span class="s2">&quot;nrclex&quot;</span><span class="p">:</span> <span class="p">{},</span>
          <span class="s2">&quot;openai&quot;</span><span class="p">:</span> <span class="p">{}</span>
        <span class="p">}</span>
      <span class="p">}</span>
  
  <span class="k">return</span> <span class="n">stories</span>


<span class="n">stories</span> <span class="o">=</span> <span class="n">getStories</span><span class="p">(</span><span class="n">getSampleStories</span><span class="p">())</span>

<span class="k">for</span> <span class="n">storyId</span><span class="p">,</span> <span class="n">story</span> <span class="ow">in</span> <span class="n">stories</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
  <span class="nb">print</span><span class="p">(</span><span class="n">story</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Google DeepMind&#39;s AI successor predicts how 71M mutations cause disease
Contrastive decoding improves reasoning in large language models
Pink diamonds erupted to Earth’s surface after early supercontinent’s breakup
Gokrazy is cool
Cache headers could probably be more aggressive
Notes on existential risk from artificial superintelligence
Show HN: Dialoqbase – open-source chatbot creation platform (LangChain wrapper)
Google Refuses to Collectively Bargain with Contractors
Orion: iPad as an external HDMI display for video game consoles
An Inside Look at TikTok from a 3 year employee
95% of NFTs Are Worthless: Report
Car allergic to vanilla ice cream (2000)
</pre></div>
</div>
</div>
</div>
<p>Let’s see what VADER thinks about the sentiment of these titles.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">analyzeStories</span><span class="p">(</span><span class="n">stories</span><span class="p">):</span>
  <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">story</span> <span class="ow">in</span> <span class="n">stories</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="n">story</span><span class="p">[</span><span class="s1">&#39;sentiment&#39;</span><span class="p">][</span><span class="s1">&#39;vader&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">analyzeSentiment</span><span class="p">(</span><span class="n">story</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">])</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">story</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">story</span><span class="p">[</span><span class="s1">&#39;sentiment&#39;</span><span class="p">][</span><span class="s1">&#39;vader&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>


<span class="n">analyzeStories</span><span class="p">(</span><span class="n">stories</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Google DeepMind&#39;s AI successor predicts how 71M mutations cause disease (leaning positive)
Contrastive decoding improves reasoning in large language models (positive)
Pink diamonds erupted to Earth’s surface after early supercontinent’s breakup (neutral)
Gokrazy is cool (leaning positive)
Cache headers could probably be more aggressive (leaning negative)
Notes on existential risk from artificial superintelligence (leaning negative)
Show HN: Dialoqbase – open-source chatbot creation platform (LangChain wrapper) (leaning positive)
Google Refuses to Collectively Bargain with Contractors (leaning positive)
Orion: iPad as an external HDMI display for video game consoles (neutral)
An Inside Look at TikTok from a 3 year employee (neutral)
95% of NFTs Are Worthless: Report (negative)
Car allergic to vanilla ice cream (2000) (leaning negative)
</pre></div>
</div>
</div>
</div>
<p>While this is easy enough to implement and might give us a general idea of the sentiment, what if we want to push things a little further?</p>
<p>What if we have more complex text to analyze or have content that VADER’s training doesn’t handle well?</p>
</section>
<section id="chatgpt">
<h2>ChatGPT<a class="headerlink" href="#chatgpt" title="Permalink to this heading">#</a></h2>
<p>ChatGPT is a Large Language Model (LLM) that uses the Generative Pre-Trained Transformer (GPT) architecture to generate text based on prompts that we provide.</p>
<p>It’s training data includes a whole bunch of stuff that we’ve all posted on the Internet over the years, as well as lots of other content that has been published.</p>
<p>This vast trove of training data, combined with the power of the GPT architecture and the utility of Instruction Tuning, gives ChatGPT an impressive ability to respond to our requests for many tasks without needing to be retrained or fine-tuned.</p>
<section id="how-chatgpt-works">
<h3>How ChatGPT works<a class="headerlink" href="#how-chatgpt-works" title="Permalink to this heading">#</a></h3>
<p>In responding to our prompts, ChatGPT follows a similar process to the NLP workflow described above.</p>
<p>It breaks our prompts into tokens, predicts which tokens should logically follow the ones that we’ve provided, and returns that text.</p>
</section>
<section id="tokens">
<h3>Tokens<a class="headerlink" href="#tokens" title="Permalink to this heading">#</a></h3>
<p>Tokenization breaks text down into units of meaning, and just like the stemming/lemmatization that we discussed earlier, you’ll notice that words are often broken down into their roots and suffixes when tokenized by ChatGPT’s Byte Pair Encoding (<a class="reference external" href="https://en.wikipedia.org/wiki/Byte_pair_encoding">BPE</a>) tokenization algorithm, <a class="reference external" href="https://github.com/openai/tiktoken">tiktoken</a>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">tiktoken</span>

<span class="k">def</span> <span class="nf">tokenize</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
  <span class="n">tokens</span> <span class="o">=</span> <span class="p">[]</span>
  <span class="n">ids</span> <span class="o">=</span> <span class="p">[]</span>
  
  <span class="c1"># To get the tokeniser corresponding to a specific model in the OpenAI API:</span>
  <span class="n">encoding</span> <span class="o">=</span> <span class="n">tiktoken</span><span class="o">.</span><span class="n">encoding_for_model</span><span class="p">(</span><span class="n">modelDropdown</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

  <span class="n">tokenized</span> <span class="o">=</span> <span class="n">encoding</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>

  <span class="k">for</span> <span class="n">tokenId</span> <span class="ow">in</span> <span class="n">tokenized</span><span class="p">:</span>
    <span class="n">ids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tokenId</span><span class="p">)</span>
    <span class="n">tokens</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">encoding</span><span class="o">.</span><span class="n">decode_single_token_bytes</span><span class="p">(</span><span class="n">tokenId</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">))</span>

  <span class="k">return</span> <span class="p">(</span><span class="n">tokens</span><span class="p">,</span> <span class="n">ids</span><span class="p">)</span>

<span class="n">statements</span> <span class="o">=</span> <span class="p">[</span>
  <span class="s1">&#39;I love that movie.&#39;</span><span class="p">,</span>
  <span class="s1">&#39;I hate that movie.&#39;</span><span class="p">,</span>
  <span class="s1">&#39;I like that movie.&#39;</span><span class="p">,</span>
  <span class="s1">&#39;I dislike that movie.&#39;</span><span class="p">,</span>
  <span class="s1">&#39;I saw that movie.&#39;</span><span class="p">,</span>
<span class="p">]</span>

<span class="k">for</span> <span class="n">statement</span> <span class="ow">in</span> <span class="n">statements</span><span class="p">:</span>
  <span class="p">(</span><span class="n">statementTokens</span><span class="p">,</span> <span class="n">statementIds</span><span class="p">)</span> <span class="o">=</span> <span class="n">tokenize</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span>
  <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">statementTokens</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">statementTokens</span><span class="p">)</span><span class="si">}</span><span class="s2"> tokens)&quot;</span><span class="p">)</span>
  <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">statementIds</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
  <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;---&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;I&#39;, &#39; love&#39;, &#39; that&#39;, &#39; movie&#39;, &#39;.&#39;] (5 tokens)
[40, 3021, 430, 5818, 13]
---
[&#39;I&#39;, &#39; hate&#39;, &#39; that&#39;, &#39; movie&#39;, &#39;.&#39;] (5 tokens)
[40, 12491, 430, 5818, 13]
---
[&#39;I&#39;, &#39; like&#39;, &#39; that&#39;, &#39; movie&#39;, &#39;.&#39;] (5 tokens)
[40, 1093, 430, 5818, 13]
---
[&#39;I&#39;, &#39; dislike&#39;, &#39; that&#39;, &#39; movie&#39;, &#39;.&#39;] (5 tokens)
[40, 48969, 430, 5818, 13]
---
[&#39;I&#39;, &#39; saw&#39;, &#39; that&#39;, &#39; movie&#39;, &#39;.&#39;] (5 tokens)
[40, 5602, 430, 5818, 13]
---
</pre></div>
</div>
</div>
</div>
<p>We’ve wired the input below up to the same tokenizer function from above. Type in some text and see how the tokenizer responds.</p>
<p>There’s also a great visualizer available at <a class="reference external" href="https://gpt-tokenizer.dev/">https://gpt-tokenizer.dev/</a>.</p>
<div class="cell tag_hide-input tag_thebe-init docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># this code cell is just used to display a widget</span>
<span class="n">configureModel</span><span class="p">(</span><span class="n">modelDropdown</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

<span class="n">display</span><span class="p">(</span><span class="n">tokenAnalysisWidget</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"version_major": 2, "version_minor": 0, "model_id": "8dadeb0075f94449850954e416e718a2"}</script></div>
</div>
</section>
</section>
<section id="prompt-engineering">
<h2>Prompt engineering<a class="headerlink" href="#prompt-engineering" title="Permalink to this heading">#</a></h2>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Prompt_engineering">Prompt engineering</a> (or “prompting” if you are into the whole brevity thing) is the process of creating and testing instructions for the model (called “prompts”) to find the right description that returns your desired results as often as possible and minimizes undesired results like <a class="reference external" href="https://en.wikipedia.org/wiki/Hallucination_(artificial_intelligence)">hallucinations</a> and <a class="reference external" href="https://news.ycombinator.com/item?id=36949931">apologies</a>.</p>
<p>In general, each message you send and each response that you receive become part of the overall prompt for the next message.</p>
<p>You can think of the overall conversation as a document of text - it can help to imagine it as a screenplay.</p>
<p>There are various types of messages that make up this screenplay:</p>
<ul class="simple">
<li><p><strong>System</strong>: system messages are sort of like stage directions, they describe the overall parameters that the model should follow and provide any other context that the model might need to know about as the conversation continues</p></li>
<li><p><strong>User</strong>: user messages are the individual prompts that the user sends to the model</p></li>
<li><p><strong>Assistant</strong>: assistant messages are the responses the model generates to the user’s prompts</p></li>
</ul>
<p>The whole thing looks a bit like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>[System]
Assistant is a large language model trained by OpenAI.
Knowledge cutoff: 2021-09
Current date: 2023-08-17
Browsing: disabled

[User]
Who won the Super Bowl in 2022?

[Assistant]
I&#39;m sorry, but I don&#39;t have access to real-time information as my knowledge
was last updated in September 2021. To find out the winner of the Super Bowl
in 2022, I recommend checking a reliable sports news website, a sports app,
or conducting a quick internet search for the most up-to-date information.
</pre></div>
</div>
<p><strong>Note</strong>: There are also messages with the type <code class="docutils literal notranslate"><span class="pre">function</span></code> that indicate that the Assistant would like to execute the function with the given name and pass it the given parameters, but for this demo, we’ll be ignoring those.</p>
<section id="basic-example">
<h3>Basic example<a class="headerlink" href="#basic-example" title="Permalink to this heading">#</a></h3>
<p>Here’s an example of a basic prompt we could use for seniment analysis:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">BASIC_SYSTEM_PROMPT</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">You are VibeCheck, an advanced AI system for detecting the sentiment conveyed in user-generated text.</span>

<span class="s2">The user will provide you with a prompt, and you will respond with the sentiment of that prompt.</span>

<span class="s2">Do not include any punctuation and only use lower case letters.</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="nd">@backoff</span><span class="o">.</span><span class="n">on_exception</span><span class="p">(</span><span class="n">backoff</span><span class="o">.</span><span class="n">expo</span><span class="p">,</span> <span class="n">openai</span><span class="o">.</span><span class="n">error</span><span class="o">.</span><span class="n">RateLimitError</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">basicChatGptSentiment</span><span class="p">(</span><span class="n">prompt</span><span class="p">,</span> <span class="n">model</span><span class="o">=</span><span class="n">modelDropdown</span><span class="o">.</span><span class="n">value</span><span class="p">):</span>
    <span class="n">messages</span> <span class="o">=</span> <span class="p">[{</span> <span class="s2">&quot;role&quot;</span><span class="p">:</span> <span class="s2">&quot;system&quot;</span><span class="p">,</span> <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="n">BASIC_SYSTEM_PROMPT</span> <span class="p">}]</span>

    <span class="n">messages</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">&quot;role&quot;</span><span class="p">:</span> <span class="s2">&quot;user&quot;</span><span class="p">,</span> <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="n">prompt</span><span class="p">})</span>

    <span class="n">response</span> <span class="o">=</span> <span class="n">openai</span><span class="o">.</span><span class="n">ChatCompletion</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
        <span class="n">model</span><span class="o">=</span><span class="n">model</span><span class="p">,</span>
        <span class="n">messages</span><span class="o">=</span><span class="n">messages</span><span class="p">,</span>
        <span class="n">temperature</span><span class="o">=</span><span class="n">TEMPERATURE</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">choices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">message</span><span class="p">[</span><span class="s2">&quot;content&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>Let’s apply this to our Hacker News stories from earlier.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">OPENAI_API_KEY</span><span class="p">:</span>
  <span class="k">for</span> <span class="n">storyId</span><span class="p">,</span> <span class="n">story</span> <span class="ow">in</span> <span class="n">stories</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="n">sentiment</span> <span class="o">=</span> <span class="n">basicChatGptSentiment</span><span class="p">(</span><span class="n">story</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">])</span>
    
    <span class="k">if</span> <span class="n">modelDropdown</span><span class="o">.</span><span class="n">value</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">story</span><span class="p">[</span><span class="s1">&#39;sentiment&#39;</span><span class="p">][</span><span class="s1">&#39;openai&#39;</span><span class="p">]:</span>
      <span class="n">story</span><span class="p">[</span><span class="s1">&#39;sentiment&#39;</span><span class="p">][</span><span class="s1">&#39;openai&#39;</span><span class="p">][</span><span class="n">modelDropdown</span><span class="o">.</span><span class="n">value</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="n">story</span><span class="p">[</span><span class="s1">&#39;sentiment&#39;</span><span class="p">][</span><span class="s1">&#39;openai&#39;</span><span class="p">][</span><span class="n">modelDropdown</span><span class="o">.</span><span class="n">value</span><span class="p">][</span><span class="s1">&#39;basic&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sentiment</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">story</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">sentiment</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
  <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Please enter your OpenAI API key above and rerun this cell&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Google DeepMind&#39;s AI successor predicts how 71M mutations cause disease (positive)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Contrastive decoding improves reasoning in large language models (positive)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Pink diamonds erupted to Earth’s surface after early supercontinent’s breakup (neutral)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Gokrazy is cool (positive)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Cache headers could probably be more aggressive (neutral)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Notes on existential risk from artificial superintelligence (neutral)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Show HN: Dialoqbase – open-source chatbot creation platform (LangChain wrapper) (positive)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Google Refuses to Collectively Bargain with Contractors (negative)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Orion: iPad as an external HDMI display for video game consoles (neutral)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>An Inside Look at TikTok from a 3 year employee (neutral)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>95% of NFTs Are Worthless: Report (negative)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Car allergic to vanilla ice cream (2000) (neutral)
</pre></div>
</div>
</div>
</div>
</section>
<section id="going-further">
<h3>Going further<a class="headerlink" href="#going-further" title="Permalink to this heading">#</a></h3>
<p>What if we wanted to dig a bit deeper and consider the emotions that might be associated with some text rather than just a simple positive to negative spectrum?</p>
<p>In the traditional NLP approach, there were tools like <a class="reference external" href="https://pypi.org/project/nrclex/">NRCLex</a> that could help us with this, too.</p>
<p>Let’s explore how we could analyze the emotional content of some text with <code class="docutils literal notranslate"><span class="pre">nrclex</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">nrclex</span> <span class="kn">import</span> <span class="n">NRCLex</span>

<span class="k">def</span> <span class="nf">getNRCEmotion</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
  <span class="n">emotion</span> <span class="o">=</span> <span class="n">NRCLex</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>

  <span class="k">return</span> <span class="n">emotion</span><span class="o">.</span><span class="n">top_emotions</span>

<span class="k">for</span> <span class="n">storyId</span><span class="p">,</span> <span class="n">story</span> <span class="ow">in</span> <span class="n">stories</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
  <span class="n">emotions</span> <span class="o">=</span> <span class="p">[]</span>

  <span class="n">emotionAnalysis</span> <span class="o">=</span> <span class="n">getNRCEmotion</span><span class="p">(</span><span class="n">story</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">])</span>

  <span class="k">for</span> <span class="p">(</span><span class="n">emotion</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="ow">in</span> <span class="n">emotionAnalysis</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">value</span> <span class="o">&gt;</span> <span class="mf">0.00</span><span class="p">:</span>
      <span class="n">emotions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">emotion</span><span class="p">)</span>

  <span class="n">story</span><span class="p">[</span><span class="s1">&#39;sentiment&#39;</span><span class="p">][</span><span class="s1">&#39;nrclex&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">emotions</span><span class="p">)</span>

  <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">story</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="p">(</span><span class="s1">&#39;(&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">emotions</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;)&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="n">emotions</span><span class="p">)</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Google DeepMind&#39;s AI successor predicts how 71M mutations cause disease (fear, anger, negative, sadness, disgust)
Contrastive decoding improves reasoning in large language models 
Pink diamonds erupted to Earth’s surface after early supercontinent’s breakup (negative, sadness)
Gokrazy is cool (positive)
Cache headers could probably be more aggressive (fear, anger, negative)
Notes on existential risk from artificial superintelligence (fear, negative, anticipation)
Show HN: Dialoqbase – open-source chatbot creation platform (LangChain wrapper) 
Google Refuses to Collectively Bargain with Contractors 
Orion: iPad as an external HDMI display for video game consoles 
An Inside Look at TikTok from a 3 year employee 
95% of NFTs Are Worthless: Report 
Car allergic to vanilla ice cream (2000) (surprise, positive, joy, anticipation)
</pre></div>
</div>
</div>
</div>
<p>But, with how short some of our titles are, it doesn’t always seem to get good results and it seems like sometimes it disagrees with the VADER sentiment analysis, too.</p>
<p>We could try to train a model to do this for us, but that would be a lot of work and we’d need a lot of data to train it on.</p>
<p>Luckily, we can pretty easily adapt our initial prompt to get ChatGPT to do this for us, too.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ADVANCED_SYSTEM_PROMPT</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">You are VibeCheck, an advanced AI system for detecting the sentiment conveyed in user-generated text.</span>

<span class="s2">The user will provide you with a prompt, and you will analyze it following these steps:</span>

<span class="s2">1. Analyze the prompt for relevant emotion, tone, affinity, sarcasm, irony, etc.</span>
<span class="s2">2. Analyze the likely emotional state of the author based on those findings</span>
<span class="s2">3. Summarize the emotional state and sentiment of the prompt based on your findings using 5 or less names for emotions using lowercase letters and separating each emotional state with a comma</span>

<span class="s2">Only return the output from the final step to the user.</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="nd">@backoff</span><span class="o">.</span><span class="n">on_exception</span><span class="p">(</span><span class="n">backoff</span><span class="o">.</span><span class="n">expo</span><span class="p">,</span> <span class="n">openai</span><span class="o">.</span><span class="n">error</span><span class="o">.</span><span class="n">RateLimitError</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">advancedChatGptSentiment</span><span class="p">(</span><span class="n">prompt</span><span class="p">,</span> <span class="n">model</span><span class="o">=</span><span class="n">modelDropdown</span><span class="o">.</span><span class="n">value</span><span class="p">):</span>
    <span class="n">messages</span> <span class="o">=</span> <span class="p">[{</span> <span class="s2">&quot;role&quot;</span><span class="p">:</span> <span class="s2">&quot;system&quot;</span><span class="p">,</span> <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="n">ADVANCED_SYSTEM_PROMPT</span> <span class="p">}]</span>

    <span class="n">messages</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">&quot;role&quot;</span><span class="p">:</span> <span class="s2">&quot;user&quot;</span><span class="p">,</span> <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="n">prompt</span><span class="p">})</span>

    <span class="n">response</span> <span class="o">=</span> <span class="n">openai</span><span class="o">.</span><span class="n">ChatCompletion</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
        <span class="n">model</span><span class="o">=</span><span class="n">model</span><span class="p">,</span>
        <span class="n">messages</span><span class="o">=</span><span class="n">messages</span><span class="p">,</span>
        <span class="n">temperature</span><span class="o">=</span><span class="n">TEMPERATURE</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">choices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">message</span><span class="p">[</span><span class="s2">&quot;content&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>Let’s apply this to our Hacker News stories from earlier.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">OPENAI_API_KEY</span><span class="p">:</span>
  <span class="k">for</span> <span class="n">storyId</span><span class="p">,</span> <span class="n">story</span> <span class="ow">in</span> <span class="n">stories</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="n">sentiment</span> <span class="o">=</span> <span class="n">advancedChatGptSentiment</span><span class="p">(</span><span class="n">story</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">])</span>

    <span class="k">if</span> <span class="n">modelDropdown</span><span class="o">.</span><span class="n">value</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">story</span><span class="p">[</span><span class="s1">&#39;sentiment&#39;</span><span class="p">][</span><span class="s1">&#39;openai&#39;</span><span class="p">]:</span>
      <span class="n">story</span><span class="p">[</span><span class="s1">&#39;sentiment&#39;</span><span class="p">][</span><span class="s1">&#39;openai&#39;</span><span class="p">][</span><span class="n">modelDropdown</span><span class="o">.</span><span class="n">value</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="n">story</span><span class="p">[</span><span class="s1">&#39;sentiment&#39;</span><span class="p">][</span><span class="s1">&#39;openai&#39;</span><span class="p">][</span><span class="n">modelDropdown</span><span class="o">.</span><span class="n">value</span><span class="p">][</span><span class="s1">&#39;advanced&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sentiment</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">story</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">sentiment</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
  <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Please enter your OpenAI API key above and rerun this cell&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Google DeepMind&#39;s AI successor predicts how 71M mutations cause disease (curiosity, excitement, optimism)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Contrastive decoding improves reasoning in large language models (neutral, optimistic)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Pink diamonds erupted to Earth’s surface after early supercontinent’s breakup (curiosity, wonder, fascination)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Gokrazy is cool (positive)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Cache headers could probably be more aggressive (neutral)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Notes on existential risk from artificial superintelligence (curious, concerned, cautious, vigilant, aware)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Show HN: Dialoqbase – open-source chatbot creation platform (LangChain wrapper) (excited, hopeful)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Google Refuses to Collectively Bargain with Contractors (frustration, disappointment, injustice)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Orion: iPad as an external HDMI display for video game consoles (neutral)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>An Inside Look at TikTok from a 3 year employee (curious, nostalgic, informative)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>95% of NFTs Are Worthless: Report (negative)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Car allergic to vanilla ice cream (2000) (confused, frustration, humor)
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="comparison-of-tools">
<h2>Comparison of tools<a class="headerlink" href="#comparison-of-tools" title="Permalink to this heading">#</a></h2>
<p>The widget below will allow you to enter arbitrary text and analyze it using the VADER sentiment analysis function from above, the NRCLex emotional analysis function from above, and the ChatGPT emotion analysis prompt we just created.</p>
<p>Play around with it and see how our various tools respond.</p>
<div class="cell tag_hide-input tag_thebe-init docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># this code cell is just used to display a widget</span>
<span class="c1"># that uses the analyzeSentiment function we created</span>
<span class="c1"># as well as the advancedChatGptSentiment function</span>
<span class="n">configureOpenAi</span><span class="p">(</span><span class="n">OPENAI_API_KEY</span><span class="p">,</span> <span class="n">modelDropdown</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">TEMPERATURE</span><span class="p">)</span>

<span class="n">display</span><span class="p">(</span><span class="n">advancedAnalysisWidget</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"version_major": 2, "version_minor": 0, "model_id": "c3b596b562df498d960e5340fc661c0b"}</script></div>
</div>
</section>
<section id="beyond-sentiment">
<h2>Beyond sentiment<a class="headerlink" href="#beyond-sentiment" title="Permalink to this heading">#</a></h2>
<p>What if we were looking to do something a little more complicated than just basic sentiment or emotion analysis?</p>
<p>What if we wanted to describe the sentiment of some text via an emoji?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">EMOJI_SYSTEM_PROMPT</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">You are VibeCheck, an advanced AI system for detecting the sentiment conveyed in user-generated text.</span>

<span class="s2">The user will provide you with a prompt, and you will analyze it following these steps:</span>

<span class="s2">1. Analyze the prompt for relevant emotion, tone, affinity, sarcasm, irony, etc.</span>
<span class="s2">2. Analyze the likely emotional state of the author based on those findings</span>
<span class="s2">3. Summarize the emotional state and sentiment of the prompt based on your findings into 5 or fewer names for emotional states</span>
<span class="s2">4. Convert each of the emotional states you identified into a representative emoji</span>

<span class="s2">Only return the output from the final step to the user.</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="nd">@backoff</span><span class="o">.</span><span class="n">on_exception</span><span class="p">(</span><span class="n">backoff</span><span class="o">.</span><span class="n">expo</span><span class="p">,</span> <span class="n">openai</span><span class="o">.</span><span class="n">error</span><span class="o">.</span><span class="n">RateLimitError</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">emojiChatGptSentiment</span><span class="p">(</span><span class="n">prompt</span><span class="p">,</span> <span class="n">model</span><span class="o">=</span><span class="n">modelDropdown</span><span class="o">.</span><span class="n">value</span><span class="p">):</span>
    <span class="n">messages</span> <span class="o">=</span> <span class="p">[{</span> <span class="s2">&quot;role&quot;</span><span class="p">:</span> <span class="s2">&quot;system&quot;</span><span class="p">,</span> <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="n">EMOJI_SYSTEM_PROMPT</span> <span class="p">}]</span>

    <span class="n">messages</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">&quot;role&quot;</span><span class="p">:</span> <span class="s2">&quot;user&quot;</span><span class="p">,</span> <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="n">prompt</span><span class="p">})</span>

    <span class="n">response</span> <span class="o">=</span> <span class="n">openai</span><span class="o">.</span><span class="n">ChatCompletion</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
        <span class="n">model</span><span class="o">=</span><span class="n">model</span><span class="p">,</span>
        <span class="n">messages</span><span class="o">=</span><span class="n">messages</span><span class="p">,</span>
        <span class="n">temperature</span><span class="o">=</span><span class="n">TEMPERATURE</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">choices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">message</span><span class="p">[</span><span class="s2">&quot;content&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>Let’s apply this to our Hacker News stories from earlier.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">OPENAI_API_KEY</span><span class="p">:</span>
  <span class="k">for</span> <span class="n">storyId</span><span class="p">,</span> <span class="n">story</span> <span class="ow">in</span> <span class="n">stories</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="n">sentiment</span> <span class="o">=</span> <span class="n">emojiChatGptSentiment</span><span class="p">(</span><span class="n">story</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">])</span>

    <span class="k">if</span> <span class="n">modelDropdown</span><span class="o">.</span><span class="n">value</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">story</span><span class="p">[</span><span class="s1">&#39;sentiment&#39;</span><span class="p">][</span><span class="s1">&#39;openai&#39;</span><span class="p">]:</span>
      <span class="n">story</span><span class="p">[</span><span class="s1">&#39;sentiment&#39;</span><span class="p">][</span><span class="s1">&#39;openai&#39;</span><span class="p">][</span><span class="n">modelDropdown</span><span class="o">.</span><span class="n">value</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="n">story</span><span class="p">[</span><span class="s1">&#39;sentiment&#39;</span><span class="p">][</span><span class="s1">&#39;openai&#39;</span><span class="p">][</span><span class="n">modelDropdown</span><span class="o">.</span><span class="n">value</span><span class="p">][</span><span class="s1">&#39;emoji&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sentiment</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">story</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">(</span><span class="si">{</span><span class="n">sentiment</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
  <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Please enter your OpenAI API key above and rerun this cell&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Google DeepMind&#39;s AI successor predicts how 71M mutations cause disease(😊)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Contrastive decoding improves reasoning in large language models(😐)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Pink diamonds erupted to Earth’s surface after early supercontinent’s breakup(😮🌍💎)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Gokrazy is cool(😎)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Cache headers could probably be more aggressive(😐)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Notes on existential risk from artificial superintelligence(😳😱🤔😬😶)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Show HN: Dialoqbase – open-source chatbot creation platform (LangChain wrapper)(😃)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Google Refuses to Collectively Bargain with Contractors(😡😔😠😞😢)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Orion: iPad as an external HDMI display for video game consoles(😄)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>An Inside Look at TikTok from a 3 year employee(😊)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>95% of NFTs Are Worthless: Report(😢)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Car allergic to vanilla ice cream (2000)(😕)
</pre></div>
</div>
</div>
</div>
</section>
<section id="prompting-strategies">
<h2>Prompting strategies<a class="headerlink" href="#prompting-strategies" title="Permalink to this heading">#</a></h2>
<p>In the previous examples we’ve been using <a class="reference external" href="https://www.promptingguide.ai/techniques/zeroshot">zero shot</a> prompting, which means we’re asking the model to repsond without giving it an example of what kind of response we’d like for it to have.</p>
<p>There are other prompting strategies we can employ, though:</p>
<ul class="simple">
<li><p><strong>One shot</strong>: gives the model a single example of how we’d like it to respond to guide it’s output</p></li>
<li><p><a class="reference external" href="https://www.promptingguide.ai/techniques/fewshot"><strong>Few shot</strong></a>: gives the model a few examples of how we’d like it to respond to different prompts to help guide it’s output</p></li>
</ul>
<section id="id1">
<h3>Learn more<a class="headerlink" href="#id1" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://www.promptingguide.ai/">Prompt Engineering Guide</a></p></li>
<li><p><a class="reference external" href="https://www.promptengineering.org/master-prompting-concepts-zero-shot-and-few-shot-prompting/">Master Prompting Concepts: Zero-Shot and Few-Shot Prompting</a></p></li>
<li><p><a class="reference external" href="https://www.allabtai.com/prompt-engineering-tips-zero-one-and-few-shot-prompting/">ChatGPT Prompt Engineering Tips: Zero, One and Few Shot Prompting</a></p></li>
<li><p><a class="reference external" href="https://cloud.google.com/blog/products/application-development/five-best-practices-for-prompt-engineering">Tips to enhance your prompt-engineering abilities</a></p></li>
</ul>
</section>
<section id="one-shot-prompting">
<h3>One shot prompting<a class="headerlink" href="#one-shot-prompting" title="Permalink to this heading">#</a></h3>
<p>One shot prompting can be helpful for a slighlty novel task that the model can perform, but doens’t always perform adequately.</p>
<p>Providing a single example of the desired output can help with things like proper formatting and refine the quality of the model’s output.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Grabbed from https://news.ycombinator.com/ at 2023-09-20 13:00 EDT</span>
<span class="c1"># Reference: https://news.ycombinator.com/item?id=37598299</span>
<span class="n">ONE_SHOT_USER_EXAMPLE</span> <span class="o">=</span> <span class="s2">&quot;Cisco pulled out of the SentinelOne acquisition after due dilligence&quot;</span>

<span class="n">ONE_SHOT_BOT_EXAMPLE</span> <span class="o">=</span> <span class="s2">&quot;🤨&quot;</span>

<span class="nd">@backoff</span><span class="o">.</span><span class="n">on_exception</span><span class="p">(</span><span class="n">backoff</span><span class="o">.</span><span class="n">expo</span><span class="p">,</span> <span class="n">openai</span><span class="o">.</span><span class="n">error</span><span class="o">.</span><span class="n">RateLimitError</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">oneShotChatGptSentiment</span><span class="p">(</span><span class="n">prompt</span><span class="p">,</span> <span class="n">model</span><span class="o">=</span><span class="n">modelDropdown</span><span class="o">.</span><span class="n">value</span><span class="p">):</span>
    <span class="n">messages</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span> <span class="s2">&quot;role&quot;</span><span class="p">:</span> <span class="s2">&quot;system&quot;</span><span class="p">,</span> <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="n">EMOJI_SYSTEM_PROMPT</span> <span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;role&quot;</span><span class="p">:</span> <span class="s2">&quot;user&quot;</span><span class="p">,</span> <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="n">ONE_SHOT_USER_EXAMPLE</span> <span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;role&quot;</span><span class="p">:</span> <span class="s2">&quot;assistant&quot;</span><span class="p">,</span> <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="n">ONE_SHOT_BOT_EXAMPLE</span> <span class="p">}</span>
    <span class="p">]</span>

    <span class="n">messages</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">&quot;role&quot;</span><span class="p">:</span> <span class="s2">&quot;user&quot;</span><span class="p">,</span> <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="n">prompt</span><span class="p">})</span>

    <span class="n">response</span> <span class="o">=</span> <span class="n">openai</span><span class="o">.</span><span class="n">ChatCompletion</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
        <span class="n">model</span><span class="o">=</span><span class="n">model</span><span class="p">,</span>
        <span class="n">messages</span><span class="o">=</span><span class="n">messages</span><span class="p">,</span>
        <span class="n">temperature</span><span class="o">=</span><span class="n">TEMPERATURE</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">choices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">message</span><span class="p">[</span><span class="s2">&quot;content&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">OPENAI_API_KEY</span><span class="p">:</span>
  <span class="k">for</span> <span class="n">storyId</span><span class="p">,</span> <span class="n">story</span> <span class="ow">in</span> <span class="n">stories</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="n">sentiment</span> <span class="o">=</span> <span class="n">oneShotChatGptSentiment</span><span class="p">(</span><span class="n">story</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">])</span>

    <span class="k">if</span> <span class="n">modelDropdown</span><span class="o">.</span><span class="n">value</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">story</span><span class="p">[</span><span class="s1">&#39;sentiment&#39;</span><span class="p">][</span><span class="s1">&#39;openai&#39;</span><span class="p">]:</span>
      <span class="n">story</span><span class="p">[</span><span class="s1">&#39;sentiment&#39;</span><span class="p">][</span><span class="s1">&#39;openai&#39;</span><span class="p">][</span><span class="n">modelDropdown</span><span class="o">.</span><span class="n">value</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="n">story</span><span class="p">[</span><span class="s1">&#39;sentiment&#39;</span><span class="p">][</span><span class="s1">&#39;openai&#39;</span><span class="p">][</span><span class="n">modelDropdown</span><span class="o">.</span><span class="n">value</span><span class="p">][</span><span class="s1">&#39;oneshot&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sentiment</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">story</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">(</span><span class="si">{</span><span class="n">sentiment</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
  <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Please enter your OpenAI API key above and rerun this cell&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Google DeepMind&#39;s AI successor predicts how 71M mutations cause disease(😮)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Contrastive decoding improves reasoning in large language models(🤔)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Pink diamonds erupted to Earth’s surface after early supercontinent’s breakup(😮)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Gokrazy is cool(😎)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Cache headers could probably be more aggressive(😐)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Notes on existential risk from artificial superintelligence(😳)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Show HN: Dialoqbase – open-source chatbot creation platform (LangChain wrapper)(😃)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Google Refuses to Collectively Bargain with Contractors(😡)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Orion: iPad as an external HDMI display for video game consoles(😄)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>An Inside Look at TikTok from a 3 year employee(😮)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>95% of NFTs Are Worthless: Report(😮)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Car allergic to vanilla ice cream (2000)(😕)
</pre></div>
</div>
</div>
</div>
</section>
<section id="few-shot-prompting">
<h3>Few shot prompting<a class="headerlink" href="#few-shot-prompting" title="Permalink to this heading">#</a></h3>
<p>Few shot prompting is great for novel tasks where you want to guide the model’s output, but don’t have the resources to fine tune the model for the task.</p>
<p>Providing a few examples of desired responses can give the model a chance to learn how you’d like it to respond.</p>
<p><strong>Note</strong>: Few shot prompting can also lead to issues where the model doesn’t respond as creatively or won’t perform as well on other tasks.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Grabbed from https://news.ycombinator.com/ at 2023-09-20 13:10 EDT</span>
<span class="n">FEW_SHOT_USER_EXAMPLES</span> <span class="o">=</span> <span class="p">[</span>
  <span class="n">ONE_SHOT_USER_EXAMPLE</span><span class="p">,</span>
  <span class="c1"># Reference: https://news.ycombinator.com/item?id=37595898</span>
  <span class="s2">&quot;Atlassian cripples Jira automation for all but enterprise customers&quot;</span><span class="p">,</span>
  <span class="c1"># Reference: https://news.ycombinator.com/item?id=37586264</span>
  <span class="s2">&quot;Toyota Research claims breakthrough in teaching robots new behaviors&quot;</span>
<span class="p">]</span>

<span class="n">FEW_SHOT_BOT_EXAMPLES</span> <span class="o">=</span> <span class="p">[</span>
  <span class="n">ONE_SHOT_BOT_EXAMPLE</span><span class="p">,</span>
  <span class="s2">&quot;😖&quot;</span><span class="p">,</span>
  <span class="s2">&quot;👏&quot;</span><span class="p">,</span>
<span class="p">]</span>

<span class="nd">@backoff</span><span class="o">.</span><span class="n">on_exception</span><span class="p">(</span><span class="n">backoff</span><span class="o">.</span><span class="n">expo</span><span class="p">,</span> <span class="n">openai</span><span class="o">.</span><span class="n">error</span><span class="o">.</span><span class="n">RateLimitError</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">fewShotChatGptSentiment</span><span class="p">(</span><span class="n">prompt</span><span class="p">,</span> <span class="n">model</span><span class="o">=</span><span class="n">modelDropdown</span><span class="o">.</span><span class="n">value</span><span class="p">):</span>
    <span class="n">messages</span> <span class="o">=</span> <span class="p">[{</span> <span class="s2">&quot;role&quot;</span><span class="p">:</span> <span class="s2">&quot;system&quot;</span><span class="p">,</span> <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="n">EMOJI_SYSTEM_PROMPT</span> <span class="p">}]</span>

    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">userExample</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">FEW_SHOT_USER_EXAMPLES</span><span class="p">):</span>
        <span class="n">messages</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">&quot;role&quot;</span><span class="p">:</span> <span class="s2">&quot;user&quot;</span><span class="p">,</span> <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="n">userExample</span> <span class="p">})</span>
        <span class="n">messages</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">&quot;role&quot;</span><span class="p">:</span> <span class="s2">&quot;assistant&quot;</span><span class="p">,</span> <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="n">FEW_SHOT_BOT_EXAMPLES</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">})</span>

    <span class="n">messages</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">&quot;role&quot;</span><span class="p">:</span> <span class="s2">&quot;user&quot;</span><span class="p">,</span> <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="n">prompt</span><span class="p">})</span>

    <span class="n">response</span> <span class="o">=</span> <span class="n">openai</span><span class="o">.</span><span class="n">ChatCompletion</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
        <span class="n">model</span><span class="o">=</span><span class="n">model</span><span class="p">,</span>
        <span class="n">messages</span><span class="o">=</span><span class="n">messages</span><span class="p">,</span>
        <span class="n">temperature</span><span class="o">=</span><span class="n">TEMPERATURE</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">choices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">message</span><span class="p">[</span><span class="s2">&quot;content&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>Let’s apply this to our Hacker News stories from earlier.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">OPENAI_API_KEY</span><span class="p">:</span>
  <span class="k">for</span> <span class="n">storyId</span><span class="p">,</span> <span class="n">story</span> <span class="ow">in</span> <span class="n">stories</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="n">sentiment</span> <span class="o">=</span> <span class="n">fewShotChatGptSentiment</span><span class="p">(</span><span class="n">story</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">])</span>

    <span class="k">if</span> <span class="n">modelDropdown</span><span class="o">.</span><span class="n">value</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">story</span><span class="p">[</span><span class="s1">&#39;sentiment&#39;</span><span class="p">][</span><span class="s1">&#39;openai&#39;</span><span class="p">]:</span>
      <span class="n">story</span><span class="p">[</span><span class="s1">&#39;sentiment&#39;</span><span class="p">][</span><span class="s1">&#39;openai&#39;</span><span class="p">][</span><span class="n">modelDropdown</span><span class="o">.</span><span class="n">value</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="n">story</span><span class="p">[</span><span class="s1">&#39;sentiment&#39;</span><span class="p">][</span><span class="s1">&#39;openai&#39;</span><span class="p">][</span><span class="n">modelDropdown</span><span class="o">.</span><span class="n">value</span><span class="p">][</span><span class="s1">&#39;fewshot&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sentiment</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">story</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">sentiment</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
  <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Please enter your OpenAI API key above and rerun this cell&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Google DeepMind&#39;s AI successor predicts how 71M mutations cause disease (🤯)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Contrastive decoding improves reasoning in large language models (🤔)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Pink diamonds erupted to Earth’s surface after early supercontinent’s breakup (😲)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Gokrazy is cool (😎)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Cache headers could probably be more aggressive (😏)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Notes on existential risk from artificial superintelligence (😳)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Show HN: Dialoqbase – open-source chatbot creation platform (LangChain wrapper) (😃)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Google Refuses to Collectively Bargain with Contractors (😠)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Orion: iPad as an external HDMI display for video game consoles (🤩)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>An Inside Look at TikTok from a 3 year employee (😮)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>95% of NFTs Are Worthless: Report (😮)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Car allergic to vanilla ice cream (2000) (😂)
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="comparing-approaches">
<h2>Comparing approaches<a class="headerlink" href="#comparing-approaches" title="Permalink to this heading">#</a></h2>
<p>We’ve looked at various approaches to analyzing sentiment and explored some interesting and novel ways that we can work with AI models like ChatGPT to perform tasks that used to require large investments of time to gather and label data and then train a model.</p>
<p>Let’s compare the results of each analysis.</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># this cell is used to gather our data into an object that&#39;s easier to work with</span>
<span class="c1"># when displaying some dataframes with slices of what we&#39;ve explored</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">sentimentData</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">&quot;Story&quot;</span><span class="p">:</span> <span class="p">[],</span>
  <span class="s2">&quot;VADER&quot;</span><span class="p">:</span> <span class="p">[],</span>
  <span class="s2">&quot;NRC&quot;</span><span class="p">:</span> <span class="p">[],</span>
  <span class="s2">&quot;ChatGPT (Sentiment)&quot;</span><span class="p">:</span> <span class="p">[],</span>
  <span class="s2">&quot;ChatGPT (Emotion)&quot;</span><span class="p">:</span> <span class="p">[],</span>
  <span class="s2">&quot;Zero Shot&quot;</span><span class="p">:</span> <span class="p">[],</span>
  <span class="s2">&quot;One Shot&quot;</span><span class="p">:</span> <span class="p">[],</span>
  <span class="s2">&quot;Few Shot&quot;</span><span class="p">:</span> <span class="p">[],</span>
<span class="p">}</span>

<span class="k">for</span> <span class="n">storyId</span><span class="p">,</span> <span class="n">story</span> <span class="ow">in</span> <span class="n">stories</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
  <span class="k">if</span> <span class="s1">&#39;title&#39;</span> <span class="ow">in</span> <span class="n">story</span><span class="p">:</span>
    <span class="n">sentimentData</span><span class="p">[</span><span class="s2">&quot;Story&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">story</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">])</span>
  
  <span class="k">if</span> <span class="s1">&#39;vader&#39;</span> <span class="ow">in</span> <span class="n">story</span><span class="p">[</span><span class="s1">&#39;sentiment&#39;</span><span class="p">]:</span>
    <span class="n">sentimentData</span><span class="p">[</span><span class="s2">&quot;VADER&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">story</span><span class="p">[</span><span class="s1">&#39;sentiment&#39;</span><span class="p">][</span><span class="s1">&#39;vader&#39;</span><span class="p">])</span>
  
  <span class="k">if</span> <span class="s1">&#39;nrclex&#39;</span> <span class="ow">in</span> <span class="n">story</span><span class="p">[</span><span class="s1">&#39;sentiment&#39;</span><span class="p">]:</span>
    <span class="n">sentimentData</span><span class="p">[</span><span class="s2">&quot;NRC&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">story</span><span class="p">[</span><span class="s1">&#39;sentiment&#39;</span><span class="p">][</span><span class="s1">&#39;nrclex&#39;</span><span class="p">])</span>

  <span class="k">if</span> <span class="s1">&#39;openai&#39;</span> <span class="ow">in</span> <span class="n">story</span><span class="p">[</span><span class="s1">&#39;sentiment&#39;</span><span class="p">]</span> <span class="ow">and</span> <span class="n">modelDropdown</span><span class="o">.</span><span class="n">value</span> <span class="ow">in</span> <span class="n">story</span><span class="p">[</span><span class="s1">&#39;sentiment&#39;</span><span class="p">][</span><span class="s1">&#39;openai&#39;</span><span class="p">]:</span>
    <span class="k">if</span> <span class="s1">&#39;basic&#39;</span> <span class="ow">in</span> <span class="n">story</span><span class="p">[</span><span class="s1">&#39;sentiment&#39;</span><span class="p">][</span><span class="s1">&#39;openai&#39;</span><span class="p">][</span><span class="n">modelDropdown</span><span class="o">.</span><span class="n">value</span><span class="p">]:</span>
      <span class="n">sentimentData</span><span class="p">[</span><span class="s2">&quot;ChatGPT (Sentiment)&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">story</span><span class="p">[</span><span class="s1">&#39;sentiment&#39;</span><span class="p">][</span><span class="s1">&#39;openai&#39;</span><span class="p">][</span><span class="n">modelDropdown</span><span class="o">.</span><span class="n">value</span><span class="p">][</span><span class="s1">&#39;basic&#39;</span><span class="p">])</span>

    <span class="k">if</span> <span class="s1">&#39;advanced&#39;</span> <span class="ow">in</span> <span class="n">story</span><span class="p">[</span><span class="s1">&#39;sentiment&#39;</span><span class="p">][</span><span class="s1">&#39;openai&#39;</span><span class="p">][</span><span class="n">modelDropdown</span><span class="o">.</span><span class="n">value</span><span class="p">]:</span>
      <span class="n">sentimentData</span><span class="p">[</span><span class="s2">&quot;ChatGPT (Emotion)&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">story</span><span class="p">[</span><span class="s1">&#39;sentiment&#39;</span><span class="p">][</span><span class="s1">&#39;openai&#39;</span><span class="p">][</span><span class="n">modelDropdown</span><span class="o">.</span><span class="n">value</span><span class="p">][</span><span class="s1">&#39;advanced&#39;</span><span class="p">])</span>

    <span class="k">if</span> <span class="s1">&#39;emoji&#39;</span> <span class="ow">in</span> <span class="n">story</span><span class="p">[</span><span class="s1">&#39;sentiment&#39;</span><span class="p">][</span><span class="s1">&#39;openai&#39;</span><span class="p">][</span><span class="n">modelDropdown</span><span class="o">.</span><span class="n">value</span><span class="p">]:</span>
      <span class="n">sentimentData</span><span class="p">[</span><span class="s2">&quot;Zero Shot&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">story</span><span class="p">[</span><span class="s1">&#39;sentiment&#39;</span><span class="p">][</span><span class="s1">&#39;openai&#39;</span><span class="p">][</span><span class="n">modelDropdown</span><span class="o">.</span><span class="n">value</span><span class="p">][</span><span class="s1">&#39;emoji&#39;</span><span class="p">])</span>

    <span class="k">if</span> <span class="s1">&#39;oneshot&#39;</span> <span class="ow">in</span> <span class="n">story</span><span class="p">[</span><span class="s1">&#39;sentiment&#39;</span><span class="p">][</span><span class="s1">&#39;openai&#39;</span><span class="p">][</span><span class="n">modelDropdown</span><span class="o">.</span><span class="n">value</span><span class="p">]:</span>
      <span class="n">sentimentData</span><span class="p">[</span><span class="s2">&quot;One Shot&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">story</span><span class="p">[</span><span class="s1">&#39;sentiment&#39;</span><span class="p">][</span><span class="s1">&#39;openai&#39;</span><span class="p">][</span><span class="n">modelDropdown</span><span class="o">.</span><span class="n">value</span><span class="p">][</span><span class="s1">&#39;oneshot&#39;</span><span class="p">])</span>

    <span class="k">if</span> <span class="s1">&#39;fewshot&#39;</span> <span class="ow">in</span> <span class="n">story</span><span class="p">[</span><span class="s1">&#39;sentiment&#39;</span><span class="p">][</span><span class="s1">&#39;openai&#39;</span><span class="p">][</span><span class="n">modelDropdown</span><span class="o">.</span><span class="n">value</span><span class="p">]:</span>
      <span class="n">sentimentData</span><span class="p">[</span><span class="s2">&quot;Few Shot&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">story</span><span class="p">[</span><span class="s1">&#39;sentiment&#39;</span><span class="p">][</span><span class="s1">&#39;openai&#39;</span><span class="p">][</span><span class="n">modelDropdown</span><span class="o">.</span><span class="n">value</span><span class="p">][</span><span class="s1">&#39;fewshot&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</details>
</div>
<section id="sentiment-analysis">
<h3>Sentiment analysis<a class="headerlink" href="#sentiment-analysis" title="Permalink to this heading">#</a></h3>
<p>First let’s compare the VADER sentiment analysis to our basic ChatGPT sentiment analysis prompt.</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># this cell is only used to display a dataframe of our sentiment analysis results</span>
<span class="n">sentimentDataFrame</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">sentimentData</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Story&quot;</span><span class="p">,</span> <span class="s2">&quot;VADER&quot;</span><span class="p">,</span> <span class="s2">&quot;ChatGPT (Sentiment)&quot;</span><span class="p">],</span> <span class="p">)</span>

<span class="n">display</span><span class="p">(</span><span class="n">sentimentDataFrame</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Story</th>
      <th>VADER</th>
      <th>ChatGPT (Sentiment)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Google DeepMind's AI successor predicts how 71...</td>
      <td>leaning positive</td>
      <td>positive</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Contrastive decoding improves reasoning in lar...</td>
      <td>positive</td>
      <td>positive</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Pink diamonds erupted to Earth’s surface after...</td>
      <td>neutral</td>
      <td>neutral</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Gokrazy is cool</td>
      <td>leaning positive</td>
      <td>positive</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Cache headers could probably be more aggressive</td>
      <td>leaning negative</td>
      <td>neutral</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Notes on existential risk from artificial supe...</td>
      <td>leaning negative</td>
      <td>neutral</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Show HN: Dialoqbase – open-source chatbot crea...</td>
      <td>leaning positive</td>
      <td>positive</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Google Refuses to Collectively Bargain with Co...</td>
      <td>leaning positive</td>
      <td>negative</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Orion: iPad as an external HDMI display for vi...</td>
      <td>neutral</td>
      <td>neutral</td>
    </tr>
    <tr>
      <th>9</th>
      <td>An Inside Look at TikTok from a 3 year employee</td>
      <td>neutral</td>
      <td>neutral</td>
    </tr>
    <tr>
      <th>10</th>
      <td>95% of NFTs Are Worthless: Report</td>
      <td>negative</td>
      <td>negative</td>
    </tr>
    <tr>
      <th>11</th>
      <td>Car allergic to vanilla ice cream (2000)</td>
      <td>leaning negative</td>
      <td>neutral</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="emotion-analysis">
<h3>Emotion analysis<a class="headerlink" href="#emotion-analysis" title="Permalink to this heading">#</a></h3>
<p>Next let’s compare the emotional analysis of NRCLex to our ChatGPT emotional analysis prompt.</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># this code cell is only used to display a dataframe with our emotional analysis results</span>
<span class="n">emotionDataFrame</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">sentimentData</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Story&quot;</span><span class="p">,</span> <span class="s2">&quot;NRC&quot;</span><span class="p">,</span> <span class="s2">&quot;ChatGPT (Emotion)&quot;</span><span class="p">])</span>

<span class="c1"># often NRCLex will not have data and instead of displaying NaN we&#39;ll leave it blank</span>
<span class="n">emotionDataFrame</span> <span class="o">=</span> <span class="n">emotionDataFrame</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>

<span class="n">display</span><span class="p">(</span><span class="n">emotionDataFrame</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Story</th>
      <th>NRC</th>
      <th>ChatGPT (Emotion)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Google DeepMind's AI successor predicts how 71...</td>
      <td>fear, anger, negative, sadness, disgust</td>
      <td>curiosity, excitement, optimism</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Contrastive decoding improves reasoning in lar...</td>
      <td></td>
      <td>neutral, optimistic</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Pink diamonds erupted to Earth’s surface after...</td>
      <td>negative, sadness</td>
      <td>curiosity, wonder, fascination</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Gokrazy is cool</td>
      <td>positive</td>
      <td>positive</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Cache headers could probably be more aggressive</td>
      <td>fear, anger, negative</td>
      <td>neutral</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Notes on existential risk from artificial supe...</td>
      <td>fear, negative, anticipation</td>
      <td>curious, concerned, cautious, vigilant, aware</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Show HN: Dialoqbase – open-source chatbot crea...</td>
      <td></td>
      <td>excited, hopeful</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Google Refuses to Collectively Bargain with Co...</td>
      <td></td>
      <td>frustration, disappointment, injustice</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Orion: iPad as an external HDMI display for vi...</td>
      <td></td>
      <td>neutral</td>
    </tr>
    <tr>
      <th>9</th>
      <td>An Inside Look at TikTok from a 3 year employee</td>
      <td></td>
      <td>curious, nostalgic, informative</td>
    </tr>
    <tr>
      <th>10</th>
      <td>95% of NFTs Are Worthless: Report</td>
      <td></td>
      <td>negative</td>
    </tr>
    <tr>
      <th>11</th>
      <td>Car allergic to vanilla ice cream (2000)</td>
      <td>surprise, positive, joy, anticipation</td>
      <td>confused, frustration, humor</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="id2">
<h3>Prompting strategies<a class="headerlink" href="#id2" title="Permalink to this heading">#</a></h3>
<p>Finally, let’s compare the zero shot, one shot, and few shot approaches to our emoji analyzer.</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># this cell is just used to display a dataframe with our emoji results</span>
<span class="n">emojiDataFrame</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">sentimentData</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Story&quot;</span><span class="p">,</span> <span class="s2">&quot;Zero Shot&quot;</span><span class="p">,</span> <span class="s2">&quot;One Shot&quot;</span><span class="p">,</span> <span class="s2">&quot;Few Shot&quot;</span><span class="p">])</span>

<span class="n">display</span><span class="p">(</span><span class="n">emojiDataFrame</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Story</th>
      <th>Zero Shot</th>
      <th>One Shot</th>
      <th>Few Shot</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Google DeepMind's AI successor predicts how 71...</td>
      <td>😊</td>
      <td>😮</td>
      <td>🤯</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Contrastive decoding improves reasoning in lar...</td>
      <td>😐</td>
      <td>🤔</td>
      <td>🤔</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Pink diamonds erupted to Earth’s surface after...</td>
      <td>😮🌍💎</td>
      <td>😮</td>
      <td>😲</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Gokrazy is cool</td>
      <td>😎</td>
      <td>😎</td>
      <td>😎</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Cache headers could probably be more aggressive</td>
      <td>😐</td>
      <td>😐</td>
      <td>😏</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Notes on existential risk from artificial supe...</td>
      <td>😳😱🤔😬😶</td>
      <td>😳</td>
      <td>😳</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Show HN: Dialoqbase – open-source chatbot crea...</td>
      <td>😃</td>
      <td>😃</td>
      <td>😃</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Google Refuses to Collectively Bargain with Co...</td>
      <td>😡😔😠😞😢</td>
      <td>😡</td>
      <td>😠</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Orion: iPad as an external HDMI display for vi...</td>
      <td>😄</td>
      <td>😄</td>
      <td>🤩</td>
    </tr>
    <tr>
      <th>9</th>
      <td>An Inside Look at TikTok from a 3 year employee</td>
      <td>😊</td>
      <td>😮</td>
      <td>😮</td>
    </tr>
    <tr>
      <th>10</th>
      <td>95% of NFTs Are Worthless: Report</td>
      <td>😢</td>
      <td>😮</td>
      <td>😮</td>
    </tr>
    <tr>
      <th>11</th>
      <td>Car allergic to vanilla ice cream (2000)</td>
      <td>😕</td>
      <td>😕</td>
      <td>😂</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
</section>
<section id="conclusion">
<h2>Conclusion<a class="headerlink" href="#conclusion" title="Permalink to this heading">#</a></h2>
<p>NLP tasks like sentiment analyis used to required significant resources and time, but with the advent of LLMs like ChatGPT, we can quickly perform analyses and teach models to perform novel tasks.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "ericrallen/sentiment-analysis-notebook",
            ref: "main",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  <!-- Previous / next buttons -->
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#what-is-sentiment-analysis">What is sentiment analysis?</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#examples">Examples</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#neutral">Neutral</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#positive">Positive</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#negative">Negative</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#initial-setup">Initial Setup</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#configuration">Configuration</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#simple-sentiment-analysis-with-nltk">Simple sentiment analysis with NLTK</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#how-sentiment-analysis-works">How Sentiment Analysis Works</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#learn-more">Learn more</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#real-world-example">Real world example</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chatgpt">ChatGPT</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#how-chatgpt-works">How ChatGPT works</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tokens">Tokens</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#prompt-engineering">Prompt engineering</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#basic-example">Basic example</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#going-further">Going further</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#comparison-of-tools">Comparison of tools</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#beyond-sentiment">Beyond sentiment</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#prompting-strategies">Prompting strategies</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Learn more</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#one-shot-prompting">One shot prompting</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#few-shot-prompting">Few shot prompting</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#comparing-approaches">Comparing approaches</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sentiment-analysis">Sentiment analysis</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#emotion-analysis">Emotion analysis</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">Prompting strategies</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusion">Conclusion</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Eric Allen
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=ac02cc09edc035673794"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=ac02cc09edc035673794"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>